{"version":3,"sources":["@wordpress/rich-text/src/get-active-formats.js"],"names":["getActiveFormats","formats","start","end","activeFormats","undefined","formatsBefore","formatsAfter","length"],"mappings":"AAAA;;;;;;;AAOA,OAAO,SAASA,gBAAT,OAAoE;AAAA,MAAvCC,OAAuC,QAAvCA,OAAuC;AAAA,MAA9BC,KAA8B,QAA9BA,KAA8B;AAAA,MAAvBC,GAAuB,QAAvBA,GAAuB;AAAA,MAAlBC,aAAkB,QAAlBA,aAAkB;;AAC1E,MAAKF,KAAK,KAAKG,SAAf,EAA2B;AAC1B,WAAO,EAAP;AACA;;AAED,MAAKH,KAAK,KAAKC,GAAf,EAAqB;AACpB;AACA,QAAKC,aAAL,EAAqB;AACpB,aAAOA,aAAP;AACA;;AAED,QAAME,aAAa,GAAGL,OAAO,CAAEC,KAAK,GAAG,CAAV,CAAP,IAAwB,EAA9C;AACA,QAAMK,YAAY,GAAGN,OAAO,CAAEC,KAAF,CAAP,IAAoB,EAAzC,CAPoB,CASpB;AACA;AACA;;AACA,QAAKI,aAAa,CAACE,MAAd,GAAuBD,YAAY,CAACC,MAAzC,EAAkD;AACjD,aAAOF,aAAP;AACA;;AAED,WAAOC,YAAP;AACA;;AAED,SAAON,OAAO,CAAEC,KAAF,CAAP,IAAoB,EAA3B;AACA","sourcesContent":["/**\n * Gets the all format objects at the start of the selection.\n *\n * @param {Object} value Value to inspect.\n *\n * @return {?Object} Active format objects.\n */\nexport function getActiveFormats( { formats, start, end, activeFormats } ) {\n\tif ( start === undefined ) {\n\t\treturn [];\n\t}\n\n\tif ( start === end ) {\n\t\t// For a collapsed caret, it is possible to override the active formats.\n\t\tif ( activeFormats ) {\n\t\t\treturn activeFormats;\n\t\t}\n\n\t\tconst formatsBefore = formats[ start - 1 ] || [];\n\t\tconst formatsAfter = formats[ start ] || [];\n\n\t\t// By default, select the lowest amount of formats possible (which means\n\t\t// the caret is positioned outside the format boundary). The user can\n\t\t// then use arrow keys to define `activeFormats`.\n\t\tif ( formatsBefore.length < formatsAfter.length ) {\n\t\t\treturn formatsBefore;\n\t\t}\n\n\t\treturn formatsAfter;\n\t}\n\n\treturn formats[ start ] || [];\n}\n"]}