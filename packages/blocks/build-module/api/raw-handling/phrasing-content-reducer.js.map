{"version":3,"sources":["@wordpress/blocks/src/api/raw-handling/phrasing-content-reducer.js"],"names":["wrap","replaceTag","node","doc","nodeName","style","fontWeight","fontStyle","textDecorationLine","verticalAlign","createElement","target","toLowerCase","rel","removeAttribute"],"mappings":"AAAA;;;AAGA,SAASA,IAAT,EAAeC,UAAf,QAAiC,gBAAjC;AAEA,eAAe,UAAUC,IAAV,EAAgBC,GAAhB,EAAsB;AACpC;AACA;AACA,MAAKD,IAAI,CAACE,QAAL,KAAkB,MAAlB,IAA4BF,IAAI,CAACG,KAAtC,EAA8C;AAAA,sBAMzCH,IAAI,CAACG,KANoC;AAAA,QAE5CC,UAF4C,eAE5CA,UAF4C;AAAA,QAG5CC,SAH4C,eAG5CA,SAH4C;AAAA,QAI5CC,kBAJ4C,eAI5CA,kBAJ4C;AAAA,QAK5CC,aAL4C,eAK5CA,aAL4C;;AAQ7C,QAAKH,UAAU,KAAK,MAAf,IAAyBA,UAAU,KAAK,KAA7C,EAAqD;AACpDN,MAAAA,IAAI,CAAEG,GAAG,CAACO,aAAJ,CAAmB,QAAnB,CAAF,EAAiCR,IAAjC,CAAJ;AACA;;AAED,QAAKK,SAAS,KAAK,QAAnB,EAA8B;AAC7BP,MAAAA,IAAI,CAAEG,GAAG,CAACO,aAAJ,CAAmB,IAAnB,CAAF,EAA6BR,IAA7B,CAAJ;AACA;;AAED,QAAKM,kBAAkB,KAAK,cAA5B,EAA6C;AAC5CR,MAAAA,IAAI,CAAEG,GAAG,CAACO,aAAJ,CAAmB,GAAnB,CAAF,EAA4BR,IAA5B,CAAJ;AACA;;AAED,QAAKO,aAAa,KAAK,OAAvB,EAAiC;AAChCT,MAAAA,IAAI,CAAEG,GAAG,CAACO,aAAJ,CAAmB,KAAnB,CAAF,EAA8BR,IAA9B,CAAJ;AACA,KAFD,MAEO,IAAKO,aAAa,KAAK,KAAvB,EAA+B;AACrCT,MAAAA,IAAI,CAAEG,GAAG,CAACO,aAAJ,CAAmB,KAAnB,CAAF,EAA8BR,IAA9B,CAAJ;AACA;AACD,GAzBD,MAyBO,IAAKA,IAAI,CAACE,QAAL,KAAkB,GAAvB,EAA6B;AACnCF,IAAAA,IAAI,GAAGD,UAAU,CAAEC,IAAF,EAAQ,QAAR,CAAjB;AACA,GAFM,MAEA,IAAKA,IAAI,CAACE,QAAL,KAAkB,GAAvB,EAA6B;AACnCF,IAAAA,IAAI,GAAGD,UAAU,CAAEC,IAAF,EAAQ,IAAR,CAAjB;AACA,GAFM,MAEA,IAAKA,IAAI,CAACE,QAAL,KAAkB,GAAvB,EAA6B;AACnC;AACA;AACA,QAAKF,IAAI,CAACS,MAAL,IAAeT,IAAI,CAACS,MAAL,CAAYC,WAAZ,OAA8B,QAAlD,EAA6D;AAC5DV,MAAAA,IAAI,CAACW,GAAL,GAAW,qBAAX;AACA,KAFD,MAEO;AACNX,MAAAA,IAAI,CAACY,eAAL,CAAsB,QAAtB;AACAZ,MAAAA,IAAI,CAACY,eAAL,CAAsB,KAAtB;AACA;AACD;AACD","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { wrap, replaceTag } from '@wordpress/dom';\n\nexport default function( node, doc ) {\n\t// In jsdom-jscore, 'node.style' can be null.\n\t// TODO: Explore fixing this by patching jsdom-jscore.\n\tif ( node.nodeName === 'SPAN' && node.style ) {\n\t\tconst {\n\t\t\tfontWeight,\n\t\t\tfontStyle,\n\t\t\ttextDecorationLine,\n\t\t\tverticalAlign,\n\t\t} = node.style;\n\n\t\tif ( fontWeight === 'bold' || fontWeight === '700' ) {\n\t\t\twrap( doc.createElement( 'strong' ), node );\n\t\t}\n\n\t\tif ( fontStyle === 'italic' ) {\n\t\t\twrap( doc.createElement( 'em' ), node );\n\t\t}\n\n\t\tif ( textDecorationLine === 'line-through' ) {\n\t\t\twrap( doc.createElement( 's' ), node );\n\t\t}\n\n\t\tif ( verticalAlign === 'super' ) {\n\t\t\twrap( doc.createElement( 'sup' ), node );\n\t\t} else if ( verticalAlign === 'sub' ) {\n\t\t\twrap( doc.createElement( 'sub' ), node );\n\t\t}\n\t} else if ( node.nodeName === 'B' ) {\n\t\tnode = replaceTag( node, 'strong' );\n\t} else if ( node.nodeName === 'I' ) {\n\t\tnode = replaceTag( node, 'em' );\n\t} else if ( node.nodeName === 'A' ) {\n\t\t// In jsdom-jscore, 'node.target' can be null.\n\t\t// TODO: Explore fixing this by patching jsdom-jscore.\n\t\tif ( node.target && node.target.toLowerCase() === '_blank' ) {\n\t\t\tnode.rel = 'noreferrer noopener';\n\t\t} else {\n\t\t\tnode.removeAttribute( 'target' );\n\t\t\tnode.removeAttribute( 'rel' );\n\t\t}\n\t}\n}\n"]}