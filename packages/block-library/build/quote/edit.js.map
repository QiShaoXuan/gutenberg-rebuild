{"version":3,"sources":["@wordpress/block-library/src/quote/edit.js"],"names":["QuoteEdit","attributes","setAttributes","isSelected","mergeBlocks","onReplace","className","align","value","citation","nextAlign","textAlign","ATTRIBUTE_QUOTE","nextValue","forward","hasEmptyCitation","length","RichText","isEmpty","ATTRIBUTE_CITATION","nextCitation"],"mappings":";;;;;;;AAIA;;AADA;;AAEA;;AASA;;AAdA;;;;AAWA;;;AAKe,SAASA,SAAT,OAAmG;AAAA,MAA7EC,UAA6E,QAA7EA,UAA6E;AAAA,MAAjEC,aAAiE,QAAjEA,aAAiE;AAAA,MAAlDC,UAAkD,QAAlDA,UAAkD;AAAA,MAAtCC,WAAsC,QAAtCA,WAAsC;AAAA,MAAzBC,SAAyB,QAAzBA,SAAyB;AAAA,MAAdC,SAAc,QAAdA,SAAc;AAAA,MACzGC,KADyG,GAC9EN,UAD8E,CACzGM,KADyG;AAAA,MAClGC,KADkG,GAC9EP,UAD8E,CAClGO,KADkG;AAAA,MAC3FC,QAD2F,GAC9ER,UAD8E,CAC3FQ,QAD2F;AAEjH,SACC,4BAAC,iBAAD,QACC,4BAAC,0BAAD,QACC,4BAAC,6BAAD;AACC,IAAA,KAAK,EAAGF,KADT;AAEC,IAAA,QAAQ,EAAG,kBAAEG,SAAF,EAAiB;AAC3BR,MAAAA,aAAa,CAAE;AAAEK,QAAAA,KAAK,EAAEG;AAAT,OAAF,CAAb;AACA;AAJF,IADD,CADD,EASC;AAAY,IAAA,SAAS,EAAGJ,SAAxB;AAAoC,IAAA,KAAK,EAAG;AAAEK,MAAAA,SAAS,EAAEJ;AAAb;AAA5C,KACC,4BAAC,qBAAD;AACC,IAAA,UAAU,EAAGK,yBADd;AAEC,IAAA,SAAS,MAFV;AAGC,IAAA,KAAK,EAAGJ,KAHT;AAIC,IAAA,QAAQ,EACP,kBAAEK,SAAF;AAAA,aAAiBX,aAAa,CAAE;AAC/BM,QAAAA,KAAK,EAAEK;AADwB,OAAF,CAA9B;AAAA,KALF;AASC,IAAA,OAAO,EAAGT,WATX;AAUC,IAAA,QAAQ,EAAG,kBAAEU,OAAF,EAAe;AACzB,UAAMC,gBAAgB,GAAG,CAAEN,QAAF,IAAcA,QAAQ,CAACO,MAAT,KAAoB,CAA3D;;AACA,UAAK,CAAEF,OAAF,IAAaC,gBAAlB,EAAqC;AACpCV,QAAAA,SAAS,CAAE,EAAF,CAAT;AACA;AACD,KAfF;AAgBC,IAAA,WAAW,EACV;AACA,kBAAI,cAAJ;AAlBF,IADD,EAsBG,CAAE,CAAEY,sBAASC,OAAT,CAAkBT,QAAlB,CAAF,IAAkCN,UAApC,KACD,4BAAC,qBAAD;AACC,IAAA,UAAU,EAAGgB,4BADd;AAEC,IAAA,KAAK,EAAGV,QAFT;AAGC,IAAA,QAAQ,EACP,kBAAEW,YAAF;AAAA,aAAoBlB,aAAa,CAAE;AAClCO,QAAAA,QAAQ,EAAEW;AADwB,OAAF,CAAjC;AAAA,KAJF;AAQC,IAAA,WAAW,EACV;AACA,kBAAI,iBAAJ,CAVF;AAYC,IAAA,SAAS,EAAC;AAZX,IAvBF,CATD,CADD;AAmDA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tAlignmentToolbar,\n\tRichText,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { ATTRIBUTE_QUOTE, ATTRIBUTE_CITATION } from './contants';\n\nexport default function QuoteEdit( { attributes, setAttributes, isSelected, mergeBlocks, onReplace, className } ) {\n\tconst { align, value, citation } = attributes;\n\treturn (\n\t\t<Fragment>\n\t\t\t<BlockControls>\n\t\t\t\t<AlignmentToolbar\n\t\t\t\t\tvalue={ align }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { align: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<blockquote className={ className } style={ { textAlign: align } }>\n\t\t\t\t<RichText\n\t\t\t\t\tidentifier={ ATTRIBUTE_QUOTE }\n\t\t\t\t\tmultiline\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={\n\t\t\t\t\t\t( nextValue ) => setAttributes( {\n\t\t\t\t\t\t\tvalue: nextValue,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\tonRemove={ ( forward ) => {\n\t\t\t\t\t\tconst hasEmptyCitation = ! citation || citation.length === 0;\n\t\t\t\t\t\tif ( ! forward && hasEmptyCitation ) {\n\t\t\t\t\t\t\tonReplace( [] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t// translators: placeholder text used for the quote\n\t\t\t\t\t\t__( 'Write quote…' )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ ( ! RichText.isEmpty( citation ) || isSelected ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier={ ATTRIBUTE_CITATION }\n\t\t\t\t\t\tvalue={ citation }\n\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t( nextCitation ) => setAttributes( {\n\t\t\t\t\t\t\t\tcitation: nextCitation,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t// translators: placeholder text used for the citation\n\t\t\t\t\t\t\t__( 'Write citation…' )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName=\"wp-block-quote__citation\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</blockquote>\n\t\t</Fragment>\n\t);\n}\n"]}