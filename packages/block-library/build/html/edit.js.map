{"version":3,"sources":["@wordpress/block-library/src/html/edit.js"],"names":["HTMLEdit","arguments","state","isPreview","styles","switchToHTML","bind","switchToPreview","props","defaultStyles","setState","attributes","setAttributes","isDisabled","content","Component","select","getSettings"],"mappings":";;;;;;;;;AAIA;;;;;;;;;;;;;;;;AADA;;AAEA;;AACA;;AACA;;AACA;;AARA;;;IAUMA,Q;;;;;AACL,sBAAc;AAAA;;AAAA;AACb,+GAAUC,SAAV;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,SAAS,EAAE,KADC;AAEZC,MAAAA,MAAM,EAAE;AAFI,KAAb;AAIA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,mFAApB;AACA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBD,IAArB,mFAAvB;AAPa;AAQb;;;;wCAEmB;AAAA,UACXF,MADW,GACA,KAAKI,KADL,CACXJ,MADW,EAGnB;AACA;;AACA,UAAMK,aAAa,yLAAnB;AASA,WAAKC,QAAL,CAAe;AAAEN,QAAAA,MAAM,GACtBK,aADsB,0CAEnB,6BAAiBL,MAAjB,CAFmB;AAAR,OAAf;AAIA;;;sCAEiB;AACjB,WAAKM,QAAL,CAAe;AAAEP,QAAAA,SAAS,EAAE;AAAb,OAAf;AACA;;;mCAEc;AACd,WAAKO,QAAL,CAAe;AAAEP,QAAAA,SAAS,EAAE;AAAb,OAAf;AACA;;;6BAEQ;AAAA,wBAC8B,KAAKK,KADnC;AAAA,UACAG,UADA,eACAA,UADA;AAAA,UACYC,aADZ,eACYA,aADZ;AAAA,wBAEsB,KAAKV,KAF3B;AAAA,UAEAC,SAFA,eAEAA,SAFA;AAAA,UAEWC,MAFX,eAEWA,MAFX;AAIR,aACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC,4BAAC,0BAAD,QACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,SAAS,kCAA6B,CAAED,SAAF,GAAc,WAAd,GAA4B,EAAzD,CADV;AAEC,QAAA,OAAO,EAAG,KAAKE;AAFhB,SAIC,iDAJD,CADD,EAOC;AACC,QAAA,SAAS,kCAA6BF,SAAS,GAAG,WAAH,GAAiB,EAAvD,CADV;AAEC,QAAA,OAAO,EAAG,KAAKI;AAFhB,SAIC,0CAAQ,cAAI,SAAJ,CAAR,CAJD,CAPD,CADD,CADD,EAiBC,4BAAC,oBAAD,CAAU,QAAV,QACG,UAAEM,UAAF;AAAA,eACCV,SAAS,IAAIU,UAAf,GACC,4BAAC,mBAAD;AAAS,UAAA,IAAI,EAAGF,UAAU,CAACG,OAA3B;AAAqC,UAAA,MAAM,EAAGV;AAA9C,UADD,GAGC,4BAAC,sBAAD;AACC,UAAA,KAAK,EAAGO,UAAU,CAACG,OADpB;AAEC,UAAA,QAAQ,EAAG,kBAAEA,OAAF;AAAA,mBAAeF,aAAa,CAAE;AAAEE,cAAAA,OAAO,EAAPA;AAAF,aAAF,CAA5B;AAAA,WAFZ;AAGC,UAAA,WAAW,EAAG,cAAI,aAAJ,CAHf;AAIC,wBAAa,cAAI,MAAJ;AAJd,UAJA;AAAA,OADH,CAjBD,CADD;AAkCA;;;EA7EqBC,kB;;eA+ER,sBAAY,UAAEC,MAAF,EAAc;AAAA,gBAChBA,MAAM,CAAE,mBAAF,CADU;AAAA,MAChCC,WADgC,WAChCA,WADgC;;AAExC,SAAO;AACNb,IAAAA,MAAM,EAAEa,WAAW,GAAGb;AADhB,GAAP;AAGA,CALc,EAKVJ,QALU,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { BlockControls, PlainText } from '@wordpress/block-editor';\nimport { transformStyles } from '@wordpress/editor';\nimport { Disabled, SandBox } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\nclass HTMLEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tisPreview: false,\n\t\t\tstyles: [],\n\t\t};\n\t\tthis.switchToHTML = this.switchToHTML.bind( this );\n\t\tthis.switchToPreview = this.switchToPreview.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { styles } = this.props;\n\n\t\t// Default styles used to unset some of the styles\n\t\t// that might be inherited from the editor style.\n\t\tconst defaultStyles = `\n\t\t\thtml,body,:root {\n\t\t\t\tmargin: 0 !important;\n\t\t\t\tpadding: 0 !important;\n\t\t\t\toverflow: visible !important;\n\t\t\t\tmin-height: auto !important;\n\t\t\t}\n\t\t`;\n\n\t\tthis.setState( { styles: [\n\t\t\tdefaultStyles,\n\t\t\t...transformStyles( styles ),\n\t\t] } );\n\t}\n\n\tswitchToPreview() {\n\t\tthis.setState( { isPreview: true } );\n\t}\n\n\tswitchToHTML() {\n\t\tthis.setState( { isPreview: false } );\n\t}\n\n\trender() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { isPreview, styles } = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"wp-block-html\">\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<div className=\"components-toolbar\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={ `components-tab-button ${ ! isPreview ? 'is-active' : '' }` }\n\t\t\t\t\t\t\tonClick={ this.switchToHTML }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>HTML</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={ `components-tab-button ${ isPreview ? 'is-active' : '' }` }\n\t\t\t\t\t\t\tonClick={ this.switchToPreview }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>{ __( 'Preview' ) }</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</BlockControls>\n\t\t\t\t<Disabled.Consumer>\n\t\t\t\t\t{ ( isDisabled ) => (\n\t\t\t\t\t\t( isPreview || isDisabled ) ? (\n\t\t\t\t\t\t\t<SandBox html={ attributes.content } styles={ styles } />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<PlainText\n\t\t\t\t\t\t\t\tvalue={ attributes.content }\n\t\t\t\t\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Write HTMLâ€¦' ) }\n\t\t\t\t\t\t\t\taria-label={ __( 'HTML' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t) }\n\t\t\t\t</Disabled.Consumer>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default withSelect( ( select ) => {\n\tconst { getSettings } = select( 'core/block-editor' );\n\treturn {\n\t\tstyles: getSettings().styles,\n\t};\n} )( HTMLEdit );\n"]}