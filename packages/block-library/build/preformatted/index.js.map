{"version":3,"sources":["@wordpress/block-library/src/preformatted/index.js"],"names":["name","settings","title","description","icon","category","attributes","content","type","source","selector","default","transforms","from","blocks","transform","isMatch","node","nodeName","children","length","firstChild","schema","pre","to","edit","save","merge","attributesToMerge"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AACA;;AAKA;;AACA;;AAXA;;;;AAOA;;;AAMO,IAAMA,IAAI,GAAG,mBAAb;;AAEA,IAAMC,QAAQ,GAAG;AACvBC,EAAAA,KAAK,EAAE,cAAI,cAAJ,CADgB;AAGvBC,EAAAA,WAAW,EAAE,cAAI,wEAAJ,CAHU;AAKvBC,EAAAA,IAAI,EAAJA,aALuB;AAOvBC,EAAAA,QAAQ,EAAE,YAPa;AASvBC,EAAAA,UAAU,EAAE;AACXC,IAAAA,OAAO,EAAE;AACRC,MAAAA,IAAI,EAAE,QADE;AAERC,MAAAA,MAAM,EAAE,MAFA;AAGRC,MAAAA,QAAQ,EAAE,KAHF;AAIRC,MAAAA,OAAO,EAAE;AAJD;AADE,GATW;AAkBvBC,EAAAA,UAAU,EAAE;AACXC,IAAAA,IAAI,EAAE,CACL;AACCL,MAAAA,IAAI,EAAE,OADP;AAECM,MAAAA,MAAM,EAAE,CAAE,WAAF,EAAe,gBAAf,CAFT;AAGCC,MAAAA,SAAS,EAAE;AAAA,YAAIR,OAAJ,QAAIA,OAAJ;AAAA,eACV,yBAAa,mBAAb,EAAkC;AACjCA,UAAAA,OAAO,EAAPA;AADiC,SAAlC,CADU;AAAA;AAHZ,KADK,EASL;AACCC,MAAAA,IAAI,EAAE,KADP;AAECQ,MAAAA,OAAO,EAAE,iBAAEC,IAAF;AAAA,eACRA,IAAI,CAACC,QAAL,KAAkB,KAAlB,IACA,EACCD,IAAI,CAACE,QAAL,CAAcC,MAAd,KAAyB,CAAzB,IACAH,IAAI,CAACI,UAAL,CAAgBH,QAAhB,KAA6B,MAF9B,CAFQ;AAAA,OAFV;AASCI,MAAAA,MAAM,EAAE;AACPC,QAAAA,GAAG,EAAE;AACJJ,UAAAA,QAAQ,EAAE;AADN;AADE;AATT,KATK,CADK;AA0BXK,IAAAA,EAAE,EAAE,CACH;AACChB,MAAAA,IAAI,EAAE,OADP;AAECM,MAAAA,MAAM,EAAE,CAAE,gBAAF,CAFT;AAGCC,MAAAA,SAAS,EAAE,mBAAET,UAAF;AAAA,eACV,yBAAa,gBAAb,EAA+BA,UAA/B,CADU;AAAA;AAHZ,KADG;AA1BO,GAlBW;AAsDvBmB,EAAAA,IAAI,EAAJA,aAtDuB;AAwDvBC,EAAAA,IAxDuB,uBAwDA;AAAA,QAAfpB,UAAe,SAAfA,UAAe;AAAA,QACdC,OADc,GACFD,UADE,CACdC,OADc;AAGtB,WAAO,4BAAC,qBAAD,CAAU,OAAV;AAAkB,MAAA,OAAO,EAAC,KAA1B;AAAgC,MAAA,KAAK,EAAGA;AAAxC,MAAP;AACA,GA5DsB;AA8DvBoB,EAAAA,KA9DuB,iBA8DhBrB,UA9DgB,EA8DJsB,iBA9DI,EA8DgB;AACtC,WAAO;AACNrB,MAAAA,OAAO,EAAED,UAAU,CAACC,OAAX,GAAqBqB,iBAAiB,CAACrB;AAD1C,KAAP;AAGA;AAlEsB,CAAjB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createBlock, getPhrasingContentSchema } from '@wordpress/blocks';\nimport { RichText } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport icon from './icon';\n\nexport const name = 'core/preformatted';\n\nexport const settings = {\n\ttitle: __( 'Preformatted' ),\n\n\tdescription: __( 'Add text that respects your spacing and tabs, and also allows styling.' ),\n\n\ticon,\n\n\tcategory: 'formatting',\n\n\tattributes: {\n\t\tcontent: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'pre',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/code', 'core/paragraph' ],\n\t\t\t\ttransform: ( { content } ) =>\n\t\t\t\t\tcreateBlock( 'core/preformatted', {\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} ),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tisMatch: ( node ) => (\n\t\t\t\t\tnode.nodeName === 'PRE' &&\n\t\t\t\t\t! (\n\t\t\t\t\t\tnode.children.length === 1 &&\n\t\t\t\t\t\tnode.firstChild.nodeName === 'CODE'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tschema: {\n\t\t\t\t\tpre: {\n\t\t\t\t\t\tchildren: getPhrasingContentSchema(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( attributes ) =>\n\t\t\t\t\tcreateBlock( 'core/paragraph', attributes ),\n\t\t\t},\n\t\t],\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { content } = attributes;\n\n\t\treturn <RichText.Content tagName=\"pre\" value={ content } />;\n\t},\n\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\tcontent: attributes.content + attributesToMerge.content,\n\t\t};\n\t},\n};\n"]}