{"version":3,"sources":["@wordpress/block-library/src/heading/index.js"],"names":["omit","__","createBlock","getPhrasingContentSchema","getBlockAttributes","RichText","edit","icon","getLevelFromHeadingNodeName","nodeName","Number","substr","supports","className","anchor","schema","content","type","source","selector","default","level","align","placeholder","name","settings","title","description","category","keywords","attributes","transforms","from","blocks","transform","h1","children","h2","h3","h4","h5","h6","node","outerHTML","map","prefix","Array","join","to","deprecated","property","migrate","migratedAttributes","save","toLowerCase","textAlign","merge","attributesToMerge","tagName"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tcreateBlock,\n\tgetPhrasingContentSchema,\n\tgetBlockAttributes,\n} from '@wordpress/blocks';\nimport { RichText } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport icon from './icon';\n\n/**\n * Given a node name string for a heading node, returns its numeric level.\n *\n * @param {string} nodeName Heading node name.\n *\n * @return {number} Heading level.\n */\nexport function getLevelFromHeadingNodeName( nodeName ) {\n\treturn Number( nodeName.substr( 1 ) );\n}\n\nconst supports = {\n\tclassName: false,\n\tanchor: true,\n};\n\nconst schema = {\n\tcontent: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t\tselector: 'h1,h2,h3,h4,h5,h6',\n\t\tdefault: '',\n\t},\n\tlevel: {\n\t\ttype: 'number',\n\t\tdefault: 2,\n\t},\n\talign: {\n\t\ttype: 'string',\n\t},\n\tplaceholder: {\n\t\ttype: 'string',\n\t},\n};\n\nexport const name = 'core/heading';\n\nexport const settings = {\n\ttitle: __( 'Heading' ),\n\n\tdescription: __( 'Introduce new sections and organize content to help visitors (and search engines) understand the structure of your content.' ),\n\n\ticon,\n\n\tcategory: 'common',\n\n\tkeywords: [ __( 'title' ), __( 'subtitle' ) ],\n\n\tsupports,\n\n\tattributes: schema,\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( { content } ) => {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'raw',\n\t\t\t\tselector: 'h1,h2,h3,h4,h5,h6',\n\t\t\t\tschema: {\n\t\t\t\t\th1: { children: getPhrasingContentSchema() },\n\t\t\t\t\th2: { children: getPhrasingContentSchema() },\n\t\t\t\t\th3: { children: getPhrasingContentSchema() },\n\t\t\t\t\th4: { children: getPhrasingContentSchema() },\n\t\t\t\t\th5: { children: getPhrasingContentSchema() },\n\t\t\t\t\th6: { children: getPhrasingContentSchema() },\n\t\t\t\t},\n\t\t\t\ttransform( node ) {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\t...getBlockAttributes(\n\t\t\t\t\t\t\t'core/heading',\n\t\t\t\t\t\t\tnode.outerHTML\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlevel: getLevelFromHeadingNodeName( node.nodeName ),\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t\t...[ 2, 3, 4, 5, 6 ].map( ( level ) => ( {\n\t\t\t\ttype: 'prefix',\n\t\t\t\tprefix: Array( level + 1 ).join( '#' ),\n\t\t\t\ttransform( content ) {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\tlevel,\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t} ) ),\n\t\t],\n\t\tto: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\t\ttransform: ( { content } ) => {\n\t\t\t\t\treturn createBlock( 'core/paragraph', {\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tdeprecated: [\n\t\t{\n\t\t\tsupports,\n\t\t\tattributes: {\n\t\t\t\t...omit( schema, [ 'level' ] ),\n\t\t\t\tnodeName: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'property',\n\t\t\t\t\tselector: 'h1,h2,h3,h4,h5,h6',\n\t\t\t\t\tproperty: 'nodeName',\n\t\t\t\t\tdefault: 'H2',\n\t\t\t\t},\n\t\t\t},\n\t\t\tmigrate( attributes ) {\n\t\t\t\tconst { nodeName, ...migratedAttributes } = attributes;\n\n\t\t\t\treturn {\n\t\t\t\t\t...migratedAttributes,\n\t\t\t\t\tlevel: getLevelFromHeadingNodeName( nodeName ),\n\t\t\t\t};\n\t\t\t},\n\t\t\tsave( { attributes } ) {\n\t\t\t\tconst { align, nodeName, content } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName={ nodeName.toLowerCase() }\n\t\t\t\t\t\tstyle={ { textAlign: align } }\n\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\tcontent: ( attributes.content || '' ) + ( attributesToMerge.content || '' ),\n\t\t};\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { align, level, content } = attributes;\n\t\tconst tagName = 'h' + level;\n\n\t\treturn (\n\t\t\t<RichText.Content\n\t\t\t\ttagName={ tagName }\n\t\t\t\tstyle={ { textAlign: align } }\n\t\t\t\tvalue={ content }\n\t\t\t/>\n\t\t);\n\t},\n};\n"]}