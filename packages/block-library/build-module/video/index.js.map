{"version":3,"sources":["@wordpress/block-library/src/video/index.js"],"names":["createBlobURL","createBlock","RichText","__","edit","icon","name","settings","title","description","keywords","category","attributes","autoplay","type","source","selector","attribute","caption","controls","default","id","loop","muted","poster","preload","src","playsInline","transforms","from","isMatch","files","length","indexOf","transform","file","block","tag","shortcode","named","supports","align","save","undefined","isEmpty"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlobURL } from '@wordpress/blob';\nimport { createBlock } from '@wordpress/blocks';\nimport { RichText } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport icon from './icon';\n\nexport const name = 'core/video';\n\nexport const settings = {\n\ttitle: __( 'Video' ),\n\n\tdescription: __( 'Embed a video from your media library or upload a new one.' ),\n\n\ticon,\n\n\tkeywords: [ __( 'movie' ) ],\n\n\tcategory: 'common',\n\n\tattributes: {\n\t\tautoplay: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'autoplay',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'figcaption',\n\t\t},\n\t\tcontrols: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'controls',\n\t\t\tdefault: true,\n\t\t},\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tloop: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'loop',\n\t\t},\n\t\tmuted: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'muted',\n\t\t},\n\t\tposter: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'poster',\n\t\t},\n\t\tpreload: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'preload',\n\t\t\tdefault: 'metadata',\n\t\t},\n\t\tsrc: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'src',\n\t\t},\n\t\tplaysInline: {\n\t\t\ttype: 'boolean',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'video',\n\t\t\tattribute: 'playsinline',\n\t\t},\n\t},\n\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'files',\n\t\t\t\tisMatch( files ) {\n\t\t\t\t\treturn files.length === 1 && files[ 0 ].type.indexOf( 'video/' ) === 0;\n\t\t\t\t},\n\t\t\t\ttransform( files ) {\n\t\t\t\t\tconst file = files[ 0 ];\n\t\t\t\t\t// We don't need to upload the media directly here\n\t\t\t\t\t// It's already done as part of the `componentDidMount`\n\t\t\t\t\t// in the video block\n\t\t\t\t\tconst block = createBlock( 'core/video', {\n\t\t\t\t\t\tsrc: createBlobURL( file ),\n\t\t\t\t\t} );\n\t\t\t\t\treturn block;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'video',\n\t\t\t\tattributes: {\n\t\t\t\t\tsrc: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { src } } ) => {\n\t\t\t\t\t\t\treturn src;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tposter: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { poster } } ) => {\n\t\t\t\t\t\t\treturn poster;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tloop: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { loop } } ) => {\n\t\t\t\t\t\t\treturn loop;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tautoplay: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { autoplay } } ) => {\n\t\t\t\t\t\t\treturn autoplay;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tpreload: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { preload } } ) => {\n\t\t\t\t\t\t\treturn preload;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tsupports: {\n\t\talign: true,\n\t},\n\n\tedit,\n\n\tsave( { attributes } ) {\n\t\tconst { autoplay, caption, controls, loop, muted, poster, preload, src, playsInline } = attributes;\n\t\treturn (\n\t\t\t<figure>\n\t\t\t\t{ src && (\n\t\t\t\t\t<video\n\t\t\t\t\t\tautoPlay={ autoplay }\n\t\t\t\t\t\tcontrols={ controls }\n\t\t\t\t\t\tloop={ loop }\n\t\t\t\t\t\tmuted={ muted }\n\t\t\t\t\t\tposter={ poster }\n\t\t\t\t\t\tpreload={ preload !== 'metadata' ? preload : undefined }\n\t\t\t\t\t\tsrc={ src }\n\t\t\t\t\t\tplaysInline={ playsInline }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n"]}