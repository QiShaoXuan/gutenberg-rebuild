{"version":3,"sources":["@wordpress/components/src/font-size-picker/index.js"],"names":["FontSizePicker","fallbackFontSize","fontSizes","disableCustomFontSizes","onChange","value","withSlider","length","onChangeValue","event","newValue","target","undefined","Number","currentFont","find","font","size","currentFontSizeName","name","isOpen","onToggle","slug","isSelected","fontSize"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport Dashicon from '../dashicon';\nimport BaseControl from '../base-control';\nimport Button from '../button';\nimport Dropdown from '../dropdown';\nimport RangeControl from '../range-control';\nimport { NavigableMenu } from '../navigable-container';\n\nfunction FontSizePicker( {\n\tfallbackFontSize,\n\tfontSizes = [],\n\tdisableCustomFontSizes = false,\n\tonChange,\n\tvalue,\n\twithSlider = false,\n} ) {\n\tif ( disableCustomFontSizes && ! fontSizes.length ) {\n\t\treturn null;\n\t}\n\tconst onChangeValue = ( event ) => {\n\t\tconst newValue = event.target.value;\n\t\tif ( newValue === '' ) {\n\t\t\tonChange( undefined );\n\t\t\treturn;\n\t\t}\n\t\tonChange( Number( newValue ) );\n\t};\n\n\tconst currentFont = fontSizes.find( ( font ) => font.size === value );\n\tconst currentFontSizeName = ( currentFont && currentFont.name ) || ( ! value && _x( 'Normal', 'font size name' ) ) || _x( 'Custom', 'font size name' );\n\n\treturn (\n\t\t<BaseControl label={ __( 'Font Size' ) }>\n\t\t\t<div className=\"components-font-size-picker__buttons\">\n\t\t\t\t{ ( fontSizes.length > 0 ) &&\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tclassName=\"components-font-size-picker__dropdown\"\n\t\t\t\t\t\tcontentClassName=\"components-font-size-picker__dropdown-content\"\n\t\t\t\t\t\tposition=\"bottom\"\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"components-font-size-picker__selector\"\n\t\t\t\t\t\t\t\tisLarge\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: font size name */\n\t\t\t\t\t\t\t\t\t__( 'Font size: %s' ), currentFontSizeName\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ currentFontSizeName }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t<NavigableMenu>\n\t\t\t\t\t\t\t\t{ map( fontSizes, ( { name, size, slug } ) => {\n\t\t\t\t\t\t\t\t\tconst isSelected = ( value === size || ( ! value && slug === 'normal' ) );\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => onChange( slug === 'normal' ? undefined : size ) }\n\t\t\t\t\t\t\t\t\t\t\tclassName={ `is-font-${ slug }` }\n\t\t\t\t\t\t\t\t\t\t\trole=\"menuitemradio\"\n\t\t\t\t\t\t\t\t\t\t\taria-checked={ isSelected }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ isSelected && <Dashicon icon=\"saved\" /> }\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"components-font-size-picker__dropdown-text-size\" style={ { fontSize: size } }>\n\t\t\t\t\t\t\t\t\t\t\t\t{ name }\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t{ ( ! withSlider && ! disableCustomFontSizes ) &&\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"components-range-control__number\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t\t\taria-label={ __( 'Custom font size' ) }\n\t\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-color-palette__clear\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdisabled={ value === undefined }\n\t\t\t\t\tonClick={ () => onChange( undefined ) }\n\t\t\t\t\tisSmall\n\t\t\t\t\tisDefault\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{ withSlider &&\n\t\t\t\t<RangeControl\n\t\t\t\t\tclassName=\"components-font-size-picker__custom-input\"\n\t\t\t\t\tlabel={ __( 'Custom Size' ) }\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\tinitialPosition={ fallbackFontSize }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tmin={ 12 }\n\t\t\t\t\tmax={ 100 }\n\t\t\t\t\tbeforeIcon=\"editor-textcolor\"\n\t\t\t\t\tafterIcon=\"editor-textcolor\"\n\t\t\t\t/>\n\t\t\t}\n\t\t</BaseControl>\n\t);\n}\n\nexport default FontSizePicker;\n"]}