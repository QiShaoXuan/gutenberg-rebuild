{"version":3,"sources":["@wordpress/block-editor/src/components/panel-color-settings/index.js"],"names":["hasCustomColorsDisabledForSetting","disableCustomColors","colorSetting","undefined","hasColorsToChooseInSetting","colors","length","hasColorsToChoose","colorSettings","colorIndicatorAriaLabel","renderColorIndicators","map","index","value","label","availableColors","colorObject","colorName","name","ariaLabel","toLowerCase","PanelColorSettings","children","title","props","titleElement","settings"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { some } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { PanelBody, ColorIndicator } from '@wordpress/components';\nimport { ifCondition } from '@wordpress/compose';\nimport { sprintf, __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport ColorPaletteControl from '../color-palette/control';\nimport withColorContext from '../color-palette/with-color-context';\nimport { getColorObjectByColorValue } from '../colors';\n\nconst hasCustomColorsDisabledForSetting = ( disableCustomColors, colorSetting ) => {\n\tif ( colorSetting.disableCustomColors !== undefined ) {\n\t\treturn colorSetting.disableCustomColors;\n\t}\n\treturn disableCustomColors;\n};\n\nconst hasColorsToChooseInSetting = (\n\tcolors = [],\n\tdisableCustomColors,\n\tcolorSetting ) => {\n\tif ( ! hasCustomColorsDisabledForSetting( disableCustomColors, colorSetting ) ) {\n\t\treturn true;\n\t}\n\treturn ( colorSetting.colors || colors ).length > 0;\n};\n\nconst hasColorsToChoose = ( { colors, disableCustomColors, colorSettings } ) => {\n\treturn some( colorSettings, ( colorSetting ) => {\n\t\treturn hasColorsToChooseInSetting(\n\t\t\tcolors,\n\t\t\tdisableCustomColors,\n\t\t\tcolorSetting\n\t\t);\n\t} );\n};\n\n// translators: first %s: The type of color (e.g. background color), second %s: the color name or value (e.g. red or #ff0000)\nconst colorIndicatorAriaLabel = __( '(%s: %s)' );\n\nconst renderColorIndicators = ( colorSettings, colors ) => {\n\treturn colorSettings.map(\n\t\t( { value, label, colors: availableColors }, index ) => {\n\t\t\tif ( ! value ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst colorObject = getColorObjectByColorValue(\n\t\t\t\tavailableColors || colors,\n\t\t\t\tvalue\n\t\t\t);\n\t\t\tconst colorName = colorObject && colorObject.name;\n\t\t\tconst ariaLabel = sprintf(\n\t\t\t\tcolorIndicatorAriaLabel,\n\t\t\t\tlabel.toLowerCase(),\n\t\t\t\tcolorName || value\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<ColorIndicator\n\t\t\t\t\tkey={ index }\n\t\t\t\t\tcolorValue={ value }\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t);\n};\n\n// colorSettings is passed as an array of props so that it can be used for\n// mapping both ColorIndicator and ColorPaletteControl components. Passing\n// an array of components/nodes here wouldn't be feasible.\nexport const PanelColorSettings = ifCondition( hasColorsToChoose )(\n\t( {\n\t\tchildren,\n\t\tcolors,\n\t\tcolorSettings,\n\t\tdisableCustomColors,\n\t\ttitle,\n\t\t...props\n\t} ) => {\n\t\tconst titleElement = (\n\t\t\t<span className=\"editor-panel-color-settings__panel-title block-editor-panel-color-settings__panel-title\">\n\t\t\t\t{ title }\n\t\t\t\t{ renderColorIndicators( colorSettings, colors ) }\n\t\t\t</span>\n\t\t);\n\n\t\treturn (\n\t\t\t<PanelBody\n\t\t\t\tclassName=\"editor-panel-color-settings block-editor-panel-color-settings\"\n\t\t\t\ttitle={ titleElement }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ colorSettings.map( ( settings, index ) => (\n\t\t\t\t\t<ColorPaletteControl\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\tcolors,\n\t\t\t\t\t\t\tdisableCustomColors,\n\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\n\t\t\t\t{ children }\n\t\t\t</PanelBody>\n\t\t);\n\t}\n);\n\nexport default withColorContext( PanelColorSettings );\n"]}