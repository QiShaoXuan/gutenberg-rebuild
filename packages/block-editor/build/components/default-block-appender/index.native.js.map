{"version":3,"sources":["@wordpress/block-editor/src/components/default-block-appender/index.native.js"],"names":["DefaultBlockAppender","isLocked","isVisible","onAppend","placeholder","containerStyle","value","styles","blockHolder","select","ownProps","getBlockCount","getSettings","getTemplateLock","isEmpty","rootClientId","bodyPlaceholder","dispatch","insertDefaultBlock","startTyping","undefined"],"mappings":";;;;;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AACA;;AAKA;;AAjBA;;;;AAKA;;;;AASA;;;AAKO,SAASA,oBAAT,OAMH;AAAA,MALHC,QAKG,QALHA,QAKG;AAAA,MAJHC,SAIG,QAJHA,SAIG;AAAA,MAHHC,QAGG,QAHHA,QAGG;AAAA,MAFHC,WAEG,QAFHA,WAEG;AAAA,MADHC,cACG,QADHA,cACG;;AACH,MAAKJ,QAAQ,IAAI,CAAEC,SAAnB,EAA+B;AAC9B,WAAO,IAAP;AACA;;AAED,MAAMI,KAAK,GAAG,kCAAgBF,WAAhB,KAAiC,cAAI,gBAAJ,CAA/C;AAEA,SACC,4BAAC,qCAAD;AACC,IAAA,OAAO,EAAGD;AADX,KAGC,4BAAC,iBAAD;AAAM,IAAA,KAAK,EAAG,CAAEI,eAAOC,WAAT,EAAsBH,cAAtB,CAAd;AAAuD,IAAA,aAAa,EAAC;AAArE,KACC,4BAAC,qBAAD;AACC,IAAA,WAAW,EAAGC,KADf;AAEC,IAAA,QAAQ,EAAG,oBAAM,CAAE;AAFpB,IADD,CAHD,CADD;AAYA;;eAEc,sBACd,sBAAY,UAAEG,MAAF,EAAUC,QAAV,EAAwB;AAAA,gBACqBD,MAAM,CAAE,mBAAF,CAD3B;AAAA,MAC3BE,aAD2B,WAC3BA,aAD2B;AAAA,MACZC,WADY,WACZA,WADY;AAAA,MACCC,eADD,WACCA,eADD;;AAGnC,MAAMC,OAAO,GAAG,CAAEH,aAAa,CAAED,QAAQ,CAACK,YAAX,CAA/B;;AAHmC,qBAIPH,WAAW,EAJJ;AAAA,MAI3BI,eAJ2B,gBAI3BA,eAJ2B;;AAMnC,SAAO;AACNd,IAAAA,SAAS,EAAEY,OADL;AAENb,IAAAA,QAAQ,EAAE,CAAC,CAAEY,eAAe,CAAEH,QAAQ,CAACK,YAAX,CAFtB;AAGNX,IAAAA,WAAW,EAAEY;AAHP,GAAP;AAKA,CAXD,CADc,EAad,wBAAc,UAAEC,QAAF,EAAYP,QAAZ,EAA0B;AAAA,kBAInCO,QAAQ,CAAE,mBAAF,CAJ2B;AAAA,MAEtCC,kBAFsC,aAEtCA,kBAFsC;AAAA,MAGtCC,WAHsC,aAGtCA,WAHsC;;AAMvC,SAAO;AACNhB,IAAAA,QADM,sBACK;AAAA,UACFY,YADE,GACeL,QADf,CACFK,YADE;AAGVG,MAAAA,kBAAkB,CAAEE,SAAF,EAAaL,YAAb,CAAlB;AACAI,MAAAA,WAAW;AACX;AANK,GAAP;AAQA,CAdD,CAbc,EA4BZnB,oBA5BY,C","sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableWithoutFeedback, View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RichText } from '@wordpress/block-editor';\nimport { compose } from '@wordpress/compose';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nexport function DefaultBlockAppender( {\n\tisLocked,\n\tisVisible,\n\tonAppend,\n\tplaceholder,\n\tcontainerStyle,\n} ) {\n\tif ( isLocked || ! isVisible ) {\n\t\treturn null;\n\t}\n\n\tconst value = decodeEntities( placeholder ) || __( 'Start writingâ€¦' );\n\n\treturn (\n\t\t<TouchableWithoutFeedback\n\t\t\tonPress={ onAppend }\n\t\t>\n\t\t\t<View style={ [ styles.blockHolder, containerStyle ] } pointerEvents=\"box-only\">\n\t\t\t\t<RichText\n\t\t\t\t\tplaceholder={ value }\n\t\t\t\t\tonChange={ () => {} }\n\t\t\t\t/>\n\t\t\t</View>\n\t\t</TouchableWithoutFeedback>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst { getBlockCount, getSettings, getTemplateLock } = select( 'core/block-editor' );\n\n\t\tconst isEmpty = ! getBlockCount( ownProps.rootClientId );\n\t\tconst { bodyPlaceholder } = getSettings();\n\n\t\treturn {\n\t\t\tisVisible: isEmpty,\n\t\t\tisLocked: !! getTemplateLock( ownProps.rootClientId ),\n\t\t\tplaceholder: bodyPlaceholder,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst {\n\t\t\tinsertDefaultBlock,\n\t\t\tstartTyping,\n\t\t} = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tonAppend() {\n\t\t\t\tconst { rootClientId } = ownProps;\n\n\t\t\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\t\t\tstartTyping();\n\t\t\t},\n\t\t};\n\t} ),\n)( DefaultBlockAppender );\n"]}