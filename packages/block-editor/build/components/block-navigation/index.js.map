{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/index.js"],"names":["BlockNavigationList","blocks","selectedBlockClientId","selectBlock","showNestedBlocks","block","blockType","name","isSelected","clientId","icon","title","innerBlocks","length","BlockNavigation","rootBlock","rootBlocks","hasHierarchy","select","getSelectedBlockClientId","getBlockHierarchyRootClientId","getBlock","getBlocks","dispatch","onSelect","noop"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { map, noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { Button, NavigableMenu } from '@wordpress/components';\nimport { getBlockType } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction BlockNavigationList( {\n\tblocks,\n\tselectedBlockClientId,\n\tselectBlock,\n\tshowNestedBlocks,\n} ) {\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<ul className=\"editor-block-navigation__list block-editor-block-navigation__list\" role=\"list\">\n\t\t\t{ map( blocks, ( block ) => {\n\t\t\t\tconst blockType = getBlockType( block.name );\n\t\t\t\tconst isSelected = block.clientId === selectedBlockClientId;\n\n\t\t\t\treturn (\n\t\t\t\t\t<li key={ block.clientId }>\n\t\t\t\t\t\t<div className=\"editor-block-navigation__item block-editor-block-navigation__item\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={ classnames( 'editor-block-navigation__item-button block-editor-block-navigation__item-button', {\n\t\t\t\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\tonClick={ () => selectBlock( block.clientId ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BlockIcon icon={ blockType.icon } showColors />\n\t\t\t\t\t\t\t\t{ blockType.title }\n\t\t\t\t\t\t\t\t{ isSelected && <span className=\"screen-reader-text\">{ __( '(selected block)' ) }</span> }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ showNestedBlocks && !! block.innerBlocks && !! block.innerBlocks.length && (\n\t\t\t\t\t\t\t<BlockNavigationList\n\t\t\t\t\t\t\t\tblocks={ block.innerBlocks }\n\t\t\t\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t\t\t\tshowNestedBlocks\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ul>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nfunction BlockNavigation( { rootBlock, rootBlocks, selectedBlockClientId, selectBlock } ) {\n\tif ( ! rootBlocks || rootBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst hasHierarchy = (\n\t\trootBlock && (\n\t\t\trootBlock.clientId !== selectedBlockClientId ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 )\n\t\t)\n\t);\n\n\treturn (\n\t\t<NavigableMenu\n\t\t\trole=\"presentation\"\n\t\t\tclassName=\"editor-block-navigation__container block-editor-block-navigation__container\"\n\t\t>\n\t\t\t<p className=\"editor-block-navigation__label block-editor-block-navigation__label\">{ __( 'Block Navigation' ) }</p>\n\t\t\t{ hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ [ rootBlock ] }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ rootBlocks }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</NavigableMenu>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockHierarchyRootClientId,\n\t\t\tgetBlock,\n\t\t\tgetBlocks,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\trootBlocks: getBlocks(),\n\t\t\trootBlock: selectedBlockClientId ? getBlock( getBlockHierarchyRootClientId( selectedBlockClientId ) ) : null,\n\t\t\tselectedBlockClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onSelect = noop } ) => {\n\t\treturn {\n\t\t\tselectBlock( clientId ) {\n\t\t\t\tdispatch( 'core/block-editor' ).selectBlock( clientId );\n\t\t\t\tonSelect( clientId );\n\t\t\t},\n\t\t};\n\t} )\n)( BlockNavigation );\n"]}