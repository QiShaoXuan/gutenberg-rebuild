{"version":3,"sources":["@wordpress/block-editor/src/components/inserter-with-shortcuts/index.js"],"names":["filter","isEmpty","createBlock","getDefaultBlockName","compose","IconButton","__","sprintf","withDispatch","withSelect","BlockIcon","InserterWithShortcuts","items","isLocked","onInsert","itemsWithoutDefaultBlock","item","isDisabled","name","initialAttributes","slice","map","id","title","icon","select","rootClientId","getInserterItems","getTemplateLock","dispatch","ownProps","clientId","block","replaceBlocks","insertBlock","undefined"],"mappings":";;AAAA;;;AAGA,SAASA,MAAT,EAAiBC,OAAjB,QAAgC,QAAhC;AAEA;;;;AAGA,SAASC,WAAT,EAAsBC,mBAAtB,QAAiD,mBAAjD;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,EAAT,EAAaC,OAAb,QAA4B,iBAA5B;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,iBAAzC;AAEA;;;;AAGA,OAAOC,SAAP,MAAsB,eAAtB;;AAEA,SAASC,qBAAT,OAAgE;AAAA,MAA9BC,KAA8B,QAA9BA,KAA8B;AAAA,MAAvBC,QAAuB,QAAvBA,QAAuB;AAAA,MAAbC,QAAa,QAAbA,QAAa;;AAC/D,MAAKD,QAAL,EAAgB;AACf,WAAO,IAAP;AACA;;AAED,MAAME,wBAAwB,GAAGf,MAAM,CAAEY,KAAF,EAAS,UAAEI,IAAF,EAAY;AAC3D,WAAO,CAAEA,IAAI,CAACC,UAAP,KACND,IAAI,CAACE,IAAL,KAAcf,mBAAmB,EAAjC,IACA,CAAEF,OAAO,CAAEe,IAAI,CAACG,iBAAP,CAFH,CAAP;AAIA,GALsC,CAAN,CAK7BC,KAL6B,CAKtB,CALsB,EAKnB,CALmB,CAAjC;AAOA,SACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACGL,wBAAwB,CAACM,GAAzB,CAA8B,UAAEL,IAAF;AAAA,WAC/B,cAAC,UAAD;AACC,MAAA,GAAG,EAAGA,IAAI,CAACM,EADZ;AAEC,MAAA,SAAS,EAAC,mFAFX;AAGC,MAAA,OAAO,EAAG;AAAA,eAAMR,QAAQ,CAAEE,IAAF,CAAd;AAAA,OAHX,CAIC;AAJD;AAKC,MAAA,KAAK,EAAGT,OAAO,CAAED,EAAE,CAAE,QAAF,CAAJ,EAAkBU,IAAI,CAACO,KAAvB,CALhB;AAMC,MAAA,IAAI,EACH,cAAC,SAAD;AAAW,QAAA,IAAI,EAAGP,IAAI,CAACQ;AAAvB;AAPF,MAD+B;AAAA,GAA9B,CADH,CADD;AAgBA;;AAED,eAAepB,OAAO,CACrBK,UAAU,CAAE,UAAEgB,MAAF,SAAgC;AAAA,MAApBC,YAAoB,SAApBA,YAAoB;;AAAA,gBACGD,MAAM,CAAE,mBAAF,CADT;AAAA,MACnCE,gBADmC,WACnCA,gBADmC;AAAA,MACjBC,eADiB,WACjBA,eADiB;;AAE3C,SAAO;AACNhB,IAAAA,KAAK,EAAEe,gBAAgB,CAAED,YAAF,CADjB;AAENb,IAAAA,QAAQ,EAAE,CAAC,CAAEe,eAAe,CAAEF,YAAF;AAFtB,GAAP;AAIA,CANS,CADW,EAQrBlB,YAAY,CAAE,UAAEqB,QAAF,EAAYC,QAAZ,EAA0B;AAAA,MAC/BC,QAD+B,GACJD,QADI,CAC/BC,QAD+B;AAAA,MACrBL,YADqB,GACJI,QADI,CACrBJ,YADqB;AAGvC,SAAO;AACNZ,IAAAA,QADM,2BACkC;AAAA,UAA5BI,IAA4B,SAA5BA,IAA4B;AAAA,UAAtBC,iBAAsB,SAAtBA,iBAAsB;AACvC,UAAMa,KAAK,GAAG9B,WAAW,CAAEgB,IAAF,EAAQC,iBAAR,CAAzB;;AACA,UAAKY,QAAL,EAAgB;AACfF,QAAAA,QAAQ,CAAE,mBAAF,CAAR,CAAgCI,aAAhC,CAA+CF,QAA/C,EAAyDC,KAAzD;AACA,OAFD,MAEO;AACNH,QAAAA,QAAQ,CAAE,mBAAF,CAAR,CAAgCK,WAAhC,CAA6CF,KAA7C,EAAoDG,SAApD,EAA+DT,YAA/D;AACA;AACD;AARK,GAAP;AAUA,CAbW,CARS,CAAP,CAsBZf,qBAtBY,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { filter, isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { IconButton } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withDispatch, withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction InserterWithShortcuts( { items, isLocked, onInsert } ) {\n\tif ( isLocked ) {\n\t\treturn null;\n\t}\n\n\tconst itemsWithoutDefaultBlock = filter( items, ( item ) => {\n\t\treturn ! item.isDisabled && (\n\t\t\titem.name !== getDefaultBlockName() ||\n\t\t\t! isEmpty( item.initialAttributes )\n\t\t);\n\t} ).slice( 0, 3 );\n\n\treturn (\n\t\t<div className=\"editor-inserter-with-shortcuts block-editor-inserter-with-shortcuts\">\n\t\t\t{ itemsWithoutDefaultBlock.map( ( item ) => (\n\t\t\t\t<IconButton\n\t\t\t\t\tkey={ item.id }\n\t\t\t\t\tclassName=\"editor-inserter-with-shortcuts__block block-editor-inserter-with-shortcuts__block\"\n\t\t\t\t\tonClick={ () => onInsert( item ) }\n\t\t\t\t\t// translators: %s: block title/name to be added\n\t\t\t\t\tlabel={ sprintf( __( 'Add %s' ), item.title ) }\n\t\t\t\t\ticon={ (\n\t\t\t\t\t\t<BlockIcon icon={ item.icon } />\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, { rootClientId } ) => {\n\t\tconst { getInserterItems, getTemplateLock } = select( 'core/block-editor' );\n\t\treturn {\n\t\t\titems: getInserterItems( rootClientId ),\n\t\t\tisLocked: !! getTemplateLock( rootClientId ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst { clientId, rootClientId } = ownProps;\n\n\t\treturn {\n\t\t\tonInsert( { name, initialAttributes } ) {\n\t\t\t\tconst block = createBlock( name, initialAttributes );\n\t\t\t\tif ( clientId ) {\n\t\t\t\t\tdispatch( 'core/block-editor' ).replaceBlocks( clientId, block );\n\t\t\t\t} else {\n\t\t\t\t\tdispatch( 'core/block-editor' ).insertBlock( block, undefined, rootClientId );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n)( InserterWithShortcuts );\n"]}