{"version":3,"sources":["@wordpress/block-editor/src/components/contrast-checker/index.js"],"names":["tinycolor","__","Notice","ContrastChecker","backgroundColor","fallbackBackgroundColor","fallbackTextColor","fontSize","isLargeText","textColor","tinyBackgroundColor","tinyTextColor","hasTransparency","getAlpha","isReadable","level","size","msg","getBrightness"],"mappings":";;AAAA;;;AAGA,OAAOA,SAAP,MAAsB,YAAtB;AAEA;;;;AAGA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,MAAT,QAAuB,uBAAvB;;AAEA,SAASC,eAAT,OAOI;AAAA,MANHC,eAMG,QANHA,eAMG;AAAA,MALHC,uBAKG,QALHA,uBAKG;AAAA,MAJHC,iBAIG,QAJHA,iBAIG;AAAA,MAHHC,QAGG,QAHHA,QAGG;AAAA,MAFHC,WAEG,QAFHA,WAEG;AAAA,MADHC,SACG,QADHA,SACG;;AACH,MAAK,EAAIL,eAAe,IAAIC,uBAAvB,KAAoD,EAAII,SAAS,IAAIH,iBAAjB,CAAzD,EAAgG;AAC/F,WAAO,IAAP;AACA;;AACD,MAAMI,mBAAmB,GAAGV,SAAS,CAAEI,eAAe,IAAIC,uBAArB,CAArC;AACA,MAAMM,aAAa,GAAGX,SAAS,CAAES,SAAS,IAAIH,iBAAf,CAA/B;AACA,MAAMM,eAAe,GAAGF,mBAAmB,CAACG,QAApB,OAAmC,CAAnC,IAAwCF,aAAa,CAACE,QAAd,OAA6B,CAA7F;;AAEA,MAAKD,eAAe,IAAIZ,SAAS,CAACc,UAAV,CACvBJ,mBADuB,EAEvBC,aAFuB,EAGvB;AAAEI,IAAAA,KAAK,EAAE,IAAT;AAAeC,IAAAA,IAAI,EAAIR,WAAW,IAAMA,WAAW,KAAK,KAAhB,IAAyBD,QAAQ,IAAI,EAAtD,GAA6D,OAA7D,GAAuE;AAA9F,GAHuB,CAAxB,EAII;AACH,WAAO,IAAP;AACA;;AACD,MAAMU,GAAG,GAAGP,mBAAmB,CAACQ,aAApB,KAAsCP,aAAa,CAACO,aAAd,EAAtC,GACXjB,EAAE,CAAE,0HAAF,CADS,GAEXA,EAAE,CAAE,0HAAF,CAFH;AAGA,SACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,cAAC,MAAD;AAAQ,IAAA,MAAM,EAAC,SAAf;AAAyB,IAAA,aAAa,EAAG;AAAzC,KACGgB,GADH,CADD,CADD;AAOA;;AAED,eAAed,eAAf","sourcesContent":["/**\n * External dependencies\n */\nimport tinycolor from 'tinycolor2';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Notice } from '@wordpress/components';\n\nfunction ContrastChecker( {\n\tbackgroundColor,\n\tfallbackBackgroundColor,\n\tfallbackTextColor,\n\tfontSize, // font size value in pixels\n\tisLargeText,\n\ttextColor,\n} ) {\n\tif ( ! ( backgroundColor || fallbackBackgroundColor ) || ! ( textColor || fallbackTextColor ) ) {\n\t\treturn null;\n\t}\n\tconst tinyBackgroundColor = tinycolor( backgroundColor || fallbackBackgroundColor );\n\tconst tinyTextColor = tinycolor( textColor || fallbackTextColor );\n\tconst hasTransparency = tinyBackgroundColor.getAlpha() !== 1 || tinyTextColor.getAlpha() !== 1;\n\n\tif ( hasTransparency || tinycolor.isReadable(\n\t\ttinyBackgroundColor,\n\t\ttinyTextColor,\n\t\t{ level: 'AA', size: ( isLargeText || ( isLargeText !== false && fontSize >= 24 ) ? 'large' : 'small' ) }\n\t) ) {\n\t\treturn null;\n\t}\n\tconst msg = tinyBackgroundColor.getBrightness() < tinyTextColor.getBrightness() ?\n\t\t__( 'This color combination may be hard for people to read. Try using a darker background color and/or a brighter text color.' ) :\n\t\t__( 'This color combination may be hard for people to read. Try using a brighter background color and/or a darker text color.' );\n\treturn (\n\t\t<div className=\"editor-contrast-checker block-editor-contrast-checker\">\n\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t{ msg }\n\t\t\t</Notice>\n\t\t</div>\n\t);\n}\n\nexport default ContrastChecker;\n"]}