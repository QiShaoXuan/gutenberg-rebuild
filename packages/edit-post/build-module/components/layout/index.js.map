{"version":3,"sources":["@wordpress/edit-post/src/components/layout/index.js"],"names":["classnames","Button","Popover","ScrollLock","FocusReturnProvider","navigateRegions","__","PreserveScrollInReorder","AutosaveMonitor","UnsavedChangesWarning","EditorNotices","PostPublishPanel","withDispatch","withSelect","Fragment","PluginArea","withViewportMatch","compose","BrowserURL","Header","TextEditor","VisualEditor","EditorModeKeyboardShortcuts","KeyboardShortcutHelpModal","ManageBlocksModal","OptionsModal","MetaBoxes","SettingsSidebar","Sidebar","PluginPostPublishPanel","PluginPrePublishPanel","FullscreenMode","Layout","mode","editorSidebarOpened","pluginSidebarOpened","publishSidebarOpened","hasFixedToolbar","closePublishSidebar","togglePublishSidebar","hasActiveMetaboxes","isSaving","isMobileViewport","isRichEditingEnabled","sidebarIsOpened","className","publishLandmarkProps","role","tabIndex","Slot","select","getEditorMode","isEditorSidebarOpened","isPluginSidebarOpened","isPublishSidebarOpened","isFeatureActive","hasMetaBoxes","isSavingMetaBoxes","getEditorSettings","richEditingEnabled","dispatch"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tPopover,\n\tScrollLock,\n\tFocusReturnProvider,\n\tnavigateRegions,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { PreserveScrollInReorder } from '@wordpress/block-editor';\nimport {\n\tAutosaveMonitor,\n\tUnsavedChangesWarning,\n\tEditorNotices,\n\tPostPublishPanel,\n} from '@wordpress/editor';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { Fragment } from '@wordpress/element';\nimport { PluginArea } from '@wordpress/plugins';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BrowserURL from '../browser-url';\nimport Header from '../header';\nimport TextEditor from '../text-editor';\nimport VisualEditor from '../visual-editor';\nimport EditorModeKeyboardShortcuts from '../keyboard-shortcuts';\nimport KeyboardShortcutHelpModal from '../keyboard-shortcut-help-modal';\nimport ManageBlocksModal from '../manage-blocks-modal';\nimport OptionsModal from '../options-modal';\nimport MetaBoxes from '../meta-boxes';\nimport SettingsSidebar from '../sidebar/settings-sidebar';\nimport Sidebar from '../sidebar';\nimport PluginPostPublishPanel from '../sidebar/plugin-post-publish-panel';\nimport PluginPrePublishPanel from '../sidebar/plugin-pre-publish-panel';\nimport FullscreenMode from '../fullscreen-mode';\n\nfunction Layout( {\n\tmode,\n\teditorSidebarOpened,\n\tpluginSidebarOpened,\n\tpublishSidebarOpened,\n\thasFixedToolbar,\n\tclosePublishSidebar,\n\ttogglePublishSidebar,\n\thasActiveMetaboxes,\n\tisSaving,\n\tisMobileViewport,\n\tisRichEditingEnabled,\n} ) {\n\tconst sidebarIsOpened = editorSidebarOpened || pluginSidebarOpened || publishSidebarOpened;\n\n\tconst className = classnames( 'edit-post-layout', {\n\t\t'is-sidebar-opened': sidebarIsOpened,\n\t\t'has-fixed-toolbar': hasFixedToolbar,\n\t} );\n\n\tconst publishLandmarkProps = {\n\t\trole: 'region',\n\t\t/* translators: accessibility text for the publish landmark region. */\n\t\t'aria-label': __( 'Editor publish' ),\n\t\ttabIndex: -1,\n\t};\n\treturn (\n\t\t<FocusReturnProvider className={ className }>\n\t\t\t<FullscreenMode />\n\t\t\t<BrowserURL />\n\t\t\t<UnsavedChangesWarning />\n\t\t\t<AutosaveMonitor />\n\t\t\t<Header />\n\t\t\t<div\n\t\t\t\tclassName=\"edit-post-layout__content\"\n\t\t\t\trole=\"region\"\n\t\t\t\t/* translators: accessibility text for the content landmark region. */\n\t\t\t\taria-label={ __( 'Editor content' ) }\n\t\t\t\ttabIndex=\"-1\"\n\t\t\t>\n\t\t\t\t<EditorNotices dismissible={ false } className=\"is-pinned\" />\n\t\t\t\t<EditorNotices dismissible={ true } />\n\t\t\t\t<PreserveScrollInReorder />\n\t\t\t\t<EditorModeKeyboardShortcuts />\n\t\t\t\t<KeyboardShortcutHelpModal />\n\t\t\t\t<ManageBlocksModal />\n\t\t\t\t<OptionsModal />\n\t\t\t\t{ ( mode === 'text' || ! isRichEditingEnabled ) && <TextEditor /> }\n\t\t\t\t{ isRichEditingEnabled && mode === 'visual' && <VisualEditor /> }\n\t\t\t\t<div className=\"edit-post-layout__metaboxes\">\n\t\t\t\t\t<MetaBoxes location=\"normal\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"edit-post-layout__metaboxes\">\n\t\t\t\t\t<MetaBoxes location=\"advanced\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ publishSidebarOpened ? (\n\t\t\t\t<PostPublishPanel\n\t\t\t\t\t{ ...publishLandmarkProps }\n\t\t\t\t\tonClose={ closePublishSidebar }\n\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\n\t\t\t\t\tforceIsSaving={ isSaving }\n\t\t\t\t\tPrePublishExtension={ PluginPrePublishPanel.Slot }\n\t\t\t\t\tPostPublishExtension={ PluginPostPublishPanel.Slot }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div className=\"edit-post-toggle-publish-panel\" { ...publishLandmarkProps }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisDefault\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"edit-post-toggle-publish-panel__button\"\n\t\t\t\t\t\t\tonClick={ togglePublishSidebar }\n\t\t\t\t\t\t\taria-expanded={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Open publish panel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<SettingsSidebar />\n\t\t\t\t\t<Sidebar.Slot />\n\t\t\t\t\t{\n\t\t\t\t\t\tisMobileViewport && sidebarIsOpened && <ScrollLock />\n\t\t\t\t\t}\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t\t<Popover.Slot />\n\t\t\t<PluginArea />\n\t\t</FocusReturnProvider>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => ( {\n\t\tmode: select( 'core/edit-post' ).getEditorMode(),\n\t\teditorSidebarOpened: select( 'core/edit-post' ).isEditorSidebarOpened(),\n\t\tpluginSidebarOpened: select( 'core/edit-post' ).isPluginSidebarOpened(),\n\t\tpublishSidebarOpened: select( 'core/edit-post' ).isPublishSidebarOpened(),\n\t\thasFixedToolbar: select( 'core/edit-post' ).isFeatureActive( 'fixedToolbar' ),\n\t\thasActiveMetaboxes: select( 'core/edit-post' ).hasMetaBoxes(),\n\t\tisSaving: select( 'core/edit-post' ).isSavingMetaBoxes(),\n\t\tisRichEditingEnabled: select( 'core/editor' ).getEditorSettings().richEditingEnabled,\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { closePublishSidebar, togglePublishSidebar } = dispatch( 'core/edit-post' );\n\t\treturn {\n\t\t\tclosePublishSidebar,\n\t\t\ttogglePublishSidebar,\n\t\t};\n\t} ),\n\tnavigateRegions,\n\twithViewportMatch( { isMobileViewport: '< small' } ),\n)( Layout );\n"]}