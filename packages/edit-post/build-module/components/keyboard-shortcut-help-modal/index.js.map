{"version":3,"sources":["@wordpress/edit-post/src/components/keyboard-shortcut-help-modal/index.js"],"names":["castArray","Fragment","Modal","KeyboardShortcuts","__","rawShortcut","withSelect","withDispatch","compose","shortcutConfig","MODAL_NAME","mapKeyCombination","keyCombination","map","character","index","ShortcutList","shortcuts","description","ariaLabel","ShortcutSection","title","KeyboardShortcutHelpModal","isModalActive","toggleModal","access","config","select","dispatch","openModal","closeModal"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { Modal, KeyboardShortcuts } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { rawShortcut } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport shortcutConfig from './config';\n\nconst MODAL_NAME = 'edit-post/keyboard-shortcut-help';\n\nconst mapKeyCombination = ( keyCombination ) => keyCombination.map( ( character, index ) => {\n\tif ( character === '+' ) {\n\t\treturn (\n\t\t\t<Fragment key={ index }>\n\t\t\t\t{ character }\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\treturn (\n\t\t<kbd\n\t\t\tkey={ index }\n\t\t\tclassName=\"edit-post-keyboard-shortcut-help__shortcut-key\"\n\t\t>\n\t\t\t{ character }\n\t\t</kbd>\n\t);\n} );\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t<dl className=\"edit-post-keyboard-shortcut-help__shortcut-list\">\n\t\t{ shortcuts.map( ( { keyCombination, description, ariaLabel }, index ) => (\n\t\t\t<div\n\t\t\t\tclassName=\"edit-post-keyboard-shortcut-help__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t<dt className=\"edit-post-keyboard-shortcut-help__shortcut-term\">\n\t\t\t\t\t<kbd className=\"edit-post-keyboard-shortcut-help__shortcut-key-combination\" aria-label={ ariaLabel }>\n\t\t\t\t\t\t{ mapKeyCombination( castArray( keyCombination ) ) }\n\t\t\t\t\t</kbd>\n\t\t\t\t</dt>\n\t\t\t\t<dd className=\"edit-post-keyboard-shortcut-help__shortcut-description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</dd>\n\t\t\t</div>\n\t\t) ) }\n\t</dl>\n);\n\nconst ShortcutSection = ( { title, shortcuts } ) => (\n\t<section className=\"edit-post-keyboard-shortcut-help__section\">\n\t\t<h2 className=\"edit-post-keyboard-shortcut-help__section-title\">\n\t\t\t{ title }\n\t\t</h2>\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nexport function KeyboardShortcutHelpModal( { isModalActive, toggleModal } ) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<KeyboardShortcuts\n\t\t\t\tbindGlobal\n\t\t\t\tshortcuts={ {\n\t\t\t\t\t[ rawShortcut.access( 'h' ) ]: toggleModal,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t{ isModalActive && (\n\t\t\t\t<Modal\n\t\t\t\t\tclassName=\"edit-post-keyboard-shortcut-help\"\n\t\t\t\t\ttitle={ __( 'Keyboard Shortcuts' ) }\n\t\t\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\t\t\tonRequestClose={ toggleModal }\n\t\t\t\t>\n\t\t\t\t\t{ shortcutConfig.map( ( config, index ) => (\n\t\t\t\t\t\t<ShortcutSection key={ index } { ...config } />\n\t\t\t\t\t) ) }\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tisModalActive: select( 'core/edit-post' ).isModalActive( MODAL_NAME ),\n\t} ) ),\n\twithDispatch( ( dispatch, { isModalActive } ) => {\n\t\tconst {\n\t\t\topenModal,\n\t\t\tcloseModal,\n\t\t} = dispatch( 'core/edit-post' );\n\n\t\treturn {\n\t\t\ttoggleModal: () => isModalActive ? closeModal() : openModal( MODAL_NAME ),\n\t\t};\n\t} ),\n] )( KeyboardShortcutHelpModal );\n"]}