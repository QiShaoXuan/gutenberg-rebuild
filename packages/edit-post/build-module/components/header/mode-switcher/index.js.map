{"version":3,"sources":["@wordpress/edit-post/src/components/header/mode-switcher/index.js"],"names":["__","MenuItemsChoice","MenuGroup","compose","ifCondition","withSelect","withDispatch","shortcuts","MODES","value","label","ModeSwitcher","onSwitch","mode","choices","map","choice","shortcut","toggleEditorMode","display","select","isRichEditingEnabled","getEditorSettings","richEditingEnabled","getEditorMode","dispatch","switchEditorMode"],"mappings":";;;AAAA;;;AAGA,SAASA,EAAT,QAAmB,iBAAnB;AACA,SAASC,eAAT,EAA0BC,SAA1B,QAA2C,uBAA3C;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,oBAArC;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AAEA;;;;AAGA,OAAOC,SAAP,MAAsB,6BAAtB;AACA;;;;;;AAKA,IAAMC,KAAK,GAAG,CACb;AACCC,EAAAA,KAAK,EAAE,QADR;AAECC,EAAAA,KAAK,EAAEV,EAAE,CAAE,eAAF;AAFV,CADa,EAKb;AACCS,EAAAA,KAAK,EAAE,MADR;AAECC,EAAAA,KAAK,EAAEV,EAAE,CAAE,aAAF;AAFV,CALa,CAAd;;AAWA,SAASW,YAAT,OAA4C;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;AAAA,MAATC,IAAS,QAATA,IAAS;AAC3C,MAAMC,OAAO,GAAGN,KAAK,CAACO,GAAN,CAAW,UAAEC,MAAF,EAAc;AACxC,QAAKA,MAAM,CAACP,KAAP,KAAiBI,IAAtB,EAA6B;AAC5B,+BAAYG,MAAZ;AAAoBC,QAAAA,QAAQ,EAAEV,SAAS,CAACW,gBAAV,CAA2BC;AAAzD;AACA;;AACD,WAAOH,MAAP;AACA,GALe,CAAhB;AAOA,SACC,cAAC,SAAD;AACC,IAAA,KAAK,EAAGhB,EAAE,CAAE,QAAF;AADX,KAGC,cAAC,eAAD;AACC,IAAA,OAAO,EAAGc,OADX;AAEC,IAAA,KAAK,EAAGD,IAFT;AAGC,IAAA,QAAQ,EAAGD;AAHZ,IAHD,CADD;AAWA;;AAED,eAAeT,OAAO,CAAE,CACvBE,UAAU,CAAE,UAAEe,MAAF;AAAA,SAAgB;AAC3BC,IAAAA,oBAAoB,EAAED,MAAM,CAAE,aAAF,CAAN,CAAwBE,iBAAxB,GAA4CC,kBADvC;AAE3BV,IAAAA,IAAI,EAAEO,MAAM,CAAE,gBAAF,CAAN,CAA2BI,aAA3B;AAFqB,GAAhB;AAAA,CAAF,CADa,EAKvBpB,WAAW,CAAE;AAAA,MAAIiB,oBAAJ,SAAIA,oBAAJ;AAAA,SAAgCA,oBAAhC;AAAA,CAAF,CALY,EAMvBf,YAAY,CAAE,UAAEmB,QAAF;AAAA,SAAkB;AAC/Bb,IAAAA,QAD+B,oBACrBC,IADqB,EACd;AAChBY,MAAAA,QAAQ,CAAE,gBAAF,CAAR,CAA6BC,gBAA7B,CAA+Cb,IAA/C;AACA;AAH8B,GAAlB;AAAA,CAAF,CANW,CAAF,CAAP,CAWVF,YAXU,CAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItemsChoice, MenuGroup } from '@wordpress/components';\nimport { compose, ifCondition } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport shortcuts from '../../../keyboard-shortcuts';\n/**\n * Set of available mode options.\n *\n * @type {Array}\n */\nconst MODES = [\n\t{\n\t\tvalue: 'visual',\n\t\tlabel: __( 'Visual Editor' ),\n\t},\n\t{\n\t\tvalue: 'text',\n\t\tlabel: __( 'Code Editor' ),\n\t},\n];\n\nfunction ModeSwitcher( { onSwitch, mode } ) {\n\tconst choices = MODES.map( ( choice ) => {\n\t\tif ( choice.value !== mode ) {\n\t\t\treturn { ...choice, shortcut: shortcuts.toggleEditorMode.display };\n\t\t}\n\t\treturn choice;\n\t} );\n\n\treturn (\n\t\t<MenuGroup\n\t\t\tlabel={ __( 'Editor' ) }\n\t\t>\n\t\t\t<MenuItemsChoice\n\t\t\t\tchoices={ choices }\n\t\t\t\tvalue={ mode }\n\t\t\t\tonSelect={ onSwitch }\n\t\t\t/>\n\t\t</MenuGroup>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tisRichEditingEnabled: select( 'core/editor' ).getEditorSettings().richEditingEnabled,\n\t\tmode: select( 'core/edit-post' ).getEditorMode(),\n\t} ) ),\n\tifCondition( ( { isRichEditingEnabled } ) => isRichEditingEnabled ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonSwitch( mode ) {\n\t\t\tdispatch( 'core/edit-post' ).switchEditorMode( mode );\n\t\t},\n\t} ) ),\n] )( ModeSwitcher );\n"]}