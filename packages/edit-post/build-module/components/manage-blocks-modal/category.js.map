{"version":3,"sources":["@wordpress/edit-post/src/components/manage-blocks-modal/category.js"],"names":["without","map","withSelect","withDispatch","compose","withInstanceId","CheckboxControl","BlockTypesChecklist","BlockManagerCategory","instanceId","category","blockTypes","hiddenBlockTypes","toggleVisible","toggleAllVisible","length","checkedBlockNames","titleId","isAllChecked","ariaChecked","title","select","getPreference","dispatch","ownProps","showBlockTypes","hideBlockTypes","blockName","nextIsChecked","blockNames"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { without, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose, withInstanceId } from '@wordpress/compose';\nimport { CheckboxControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesChecklist from './checklist';\n\nfunction BlockManagerCategory( {\n\tinstanceId,\n\tcategory,\n\tblockTypes,\n\thiddenBlockTypes,\n\ttoggleVisible,\n\ttoggleAllVisible,\n} ) {\n\tif ( ! blockTypes.length ) {\n\t\treturn null;\n\t}\n\n\tconst checkedBlockNames = without(\n\t\tmap( blockTypes, 'name' ),\n\t\t...hiddenBlockTypes\n\t);\n\n\tconst titleId = 'edit-post-manage-blocks-modal__category-title-' + instanceId;\n\n\tconst isAllChecked = checkedBlockNames.length === blockTypes.length;\n\n\tlet ariaChecked;\n\tif ( isAllChecked ) {\n\t\tariaChecked = 'true';\n\t} else if ( checkedBlockNames.length > 0 ) {\n\t\tariaChecked = 'mixed';\n\t} else {\n\t\tariaChecked = 'false';\n\t}\n\n\treturn (\n\t\t<div\n\t\t\trole=\"group\"\n\t\t\taria-labelledby={ titleId }\n\t\t\tclassName=\"edit-post-manage-blocks-modal__category\"\n\t\t>\n\t\t\t<CheckboxControl\n\t\t\t\tchecked={ isAllChecked }\n\t\t\t\tonChange={ toggleAllVisible }\n\t\t\t\tclassName=\"edit-post-manage-blocks-modal__category-title\"\n\t\t\t\taria-checked={ ariaChecked }\n\t\t\t\tlabel={ <span id={ titleId }>{ category.title }</span> }\n\t\t\t/>\n\t\t\t<BlockTypesChecklist\n\t\t\t\tblockTypes={ blockTypes }\n\t\t\t\tvalue={ checkedBlockNames }\n\t\t\t\tonItemChange={ toggleVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default compose( [\n\twithInstanceId,\n\twithSelect( ( select ) => {\n\t\tconst { getPreference } = select( 'core/edit-post' );\n\n\t\treturn {\n\t\t\thiddenBlockTypes: getPreference( 'hiddenBlockTypes' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst {\n\t\t\tshowBlockTypes,\n\t\t\thideBlockTypes,\n\t\t} = dispatch( 'core/edit-post' );\n\n\t\treturn {\n\t\t\ttoggleVisible( blockName, nextIsChecked ) {\n\t\t\t\tif ( nextIsChecked ) {\n\t\t\t\t\tshowBlockTypes( blockName );\n\t\t\t\t} else {\n\t\t\t\t\thideBlockTypes( blockName );\n\t\t\t\t}\n\t\t\t},\n\t\t\ttoggleAllVisible( nextIsChecked ) {\n\t\t\t\tconst blockNames = map( ownProps.blockTypes, 'name' );\n\t\t\t\tif ( nextIsChecked ) {\n\t\t\t\t\tshowBlockTypes( blockNames );\n\t\t\t\t} else {\n\t\t\t\t\thideBlockTypes( blockNames );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n] )( BlockManagerCategory );\n"]}