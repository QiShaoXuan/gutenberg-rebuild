{"version":3,"sources":["@wordpress/edit-post/src/components/header/index.js"],"names":["Header","closeGeneralSidebar","hasActiveMetaboxes","isEditorSidebarOpened","isPublishSidebarOpened","isSaving","openGeneralSidebar","toggleGeneralSidebar","undefined","shortcuts","toggleSidebar","select","hasMetaBoxes","isSavingMetaBoxes","dispatch","ownProps","getBlockSelectionStart"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AACA;;AAIA;;AACA;;AACA;;AAKA;;AACA;;AACA;;AACA;;AACA;;AApBA;;;;AAaA;;;AASA,SAASA,MAAT,OAOI;AAAA,MANHC,mBAMG,QANHA,mBAMG;AAAA,MALHC,kBAKG,QALHA,kBAKG;AAAA,MAJHC,qBAIG,QAJHA,qBAIG;AAAA,MAHHC,sBAGG,QAHHA,sBAGG;AAAA,MAFHC,QAEG,QAFHA,QAEG;AAAA,MADHC,kBACG,QADHA,kBACG;AACH,MAAMC,oBAAoB,GAAGJ,qBAAqB,GAAGF,mBAAH,GAAyBK,kBAA3E;AAEA,SACC;AACC,IAAA,IAAI,EAAC;AACL;AAFD;AAGC,kBAAa,cAAI,gBAAJ,CAHd;AAIC,IAAA,SAAS,EAAC,kBAJX;AAKC,IAAA,QAAQ,EAAC;AALV,KAOC,4BAAC,sBAAD,OAPD,EAQC;AAAK,IAAA,SAAS,EAAC;AAAf,KACG,CAAEF,sBAAF,IACD;AACA;AACA;AACA;AACA;AACA,8BAAC,sBAAD;AACC,IAAA,YAAY,EAAGF,kBADhB;AAEC,IAAA,aAAa,EAAGG;AAFjB,IAPF,EAYC,4BAAC,yBAAD;AACC,IAAA,mBAAmB,EAAGH,kBADvB;AAEC,IAAA,gBAAgB,EAAGG,QAAQ,GAAG,IAAH,GAAUG;AAFtC,IAZD,EAgBC,4BAAC,kCAAD;AACC,IAAA,YAAY,EAAGN,kBADhB;AAEC,IAAA,aAAa,EAAGG;AAFjB,IAhBD,EAoBC,yCACC,4BAAC,sBAAD;AACC,IAAA,IAAI,EAAC,eADN;AAEC,IAAA,KAAK,EAAG,cAAI,UAAJ,CAFT;AAGC,IAAA,OAAO,EAAGE,oBAHX;AAIC,IAAA,SAAS,EAAGJ,qBAJb;AAKC,qBAAgBA,qBALjB;AAMC,IAAA,QAAQ,EAAGM,2BAAUC;AANtB,IADD,EASC,4BAAC,WAAD;AAAQ,IAAA,KAAK,EAAC;AAAd,KACG,cAAI,8HAAJ,CADH,CATD,CApBD,EAiCC,4BAAC,sBAAD,CAAe,IAAf,OAjCD,EAkCC,4BAAC,iBAAD,OAlCD,CARD,CADD;AA+CA;;eAEc,sBACd,sBAAY,UAAEC,MAAF;AAAA,SAAgB;AAC3BT,IAAAA,kBAAkB,EAAES,MAAM,CAAE,gBAAF,CAAN,CAA2BC,YAA3B,EADO;AAE3BT,IAAAA,qBAAqB,EAAEQ,MAAM,CAAE,gBAAF,CAAN,CAA2BR,qBAA3B,EAFI;AAG3BC,IAAAA,sBAAsB,EAAEO,MAAM,CAAE,gBAAF,CAAN,CAA2BP,sBAA3B,EAHG;AAI3BC,IAAAA,QAAQ,EAAEM,MAAM,CAAE,gBAAF,CAAN,CAA2BE,iBAA3B;AAJiB,GAAhB;AAAA,CAAZ,CADc,EAOd,wBAAc,UAAEC,QAAF,EAAYC,QAAZ,SAAsC;AAAA,MAAdJ,MAAc,SAAdA,MAAc;;AAAA,gBAChBA,MAAM,CAAE,mBAAF,CADU;AAAA,MAC3CK,sBAD2C,WAC3CA,sBAD2C;;AAAA,kBAECF,QAAQ,CAAE,gBAAF,CAFT;AAAA,MAE3CR,mBAF2C,aAE3CA,kBAF2C;AAAA,MAEvBL,mBAFuB,aAEvBA,mBAFuB;;AAInD,SAAO;AACNK,IAAAA,kBAAkB,EAAE;AAAA,aAAMA,mBAAkB,CAAEU,sBAAsB,KAAK,iBAAL,GAAyB,oBAAjD,CAAxB;AAAA,KADd;AAENf,IAAAA,mBAAmB,EAAnBA;AAFM,GAAP;AAIA,CARD,CAPc,EAgBZD,MAhBY,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { IconButton } from '@wordpress/components';\nimport {\n\tPostPreviewButton,\n\tPostSavedState,\n} from '@wordpress/editor';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { DotTip } from '@wordpress/nux';\n\n/**\n * Internal dependencies\n */\nimport MoreMenu from './more-menu';\nimport HeaderToolbar from './header-toolbar';\nimport PinnedPlugins from './pinned-plugins';\nimport shortcuts from '../../keyboard-shortcuts';\nimport PostPublishButtonOrToggle from './post-publish-button-or-toggle';\n\nfunction Header( {\n\tcloseGeneralSidebar,\n\thasActiveMetaboxes,\n\tisEditorSidebarOpened,\n\tisPublishSidebarOpened,\n\tisSaving,\n\topenGeneralSidebar,\n} ) {\n\tconst toggleGeneralSidebar = isEditorSidebarOpened ? closeGeneralSidebar : openGeneralSidebar;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"region\"\n\t\t\t/* translators: accessibility text for the top bar landmark region. */\n\t\t\taria-label={ __( 'Editor top bar' ) }\n\t\t\tclassName=\"edit-post-header\"\n\t\t\ttabIndex=\"-1\"\n\t\t>\n\t\t\t<HeaderToolbar />\n\t\t\t<div className=\"edit-post-header__settings\">\n\t\t\t\t{ ! isPublishSidebarOpened && (\n\t\t\t\t\t// This button isn't completely hidden by the publish sidebar.\n\t\t\t\t\t// We can't hide the whole toolbar when the publish sidebar is open because\n\t\t\t\t\t// we want to prevent mounting/unmounting the PostPublishButtonOrToggle DOM node.\n\t\t\t\t\t// We track that DOM node to return focus to the PostPublishButtonOrToggle\n\t\t\t\t\t// when the publish sidebar has been closed.\n\t\t\t\t\t<PostSavedState\n\t\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\n\t\t\t\t\t\tforceIsSaving={ isSaving }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<PostPreviewButton\n\t\t\t\t\tforceIsAutosaveable={ hasActiveMetaboxes }\n\t\t\t\t\tforcePreviewLink={ isSaving ? null : undefined }\n\t\t\t\t/>\n\t\t\t\t<PostPublishButtonOrToggle\n\t\t\t\t\tforceIsDirty={ hasActiveMetaboxes }\n\t\t\t\t\tforceIsSaving={ isSaving }\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ticon=\"admin-generic\"\n\t\t\t\t\t\tlabel={ __( 'Settings' ) }\n\t\t\t\t\t\tonClick={ toggleGeneralSidebar }\n\t\t\t\t\t\tisToggled={ isEditorSidebarOpened }\n\t\t\t\t\t\taria-expanded={ isEditorSidebarOpened }\n\t\t\t\t\t\tshortcut={ shortcuts.toggleSidebar }\n\t\t\t\t\t/>\n\t\t\t\t\t<DotTip tipId=\"core/editor.settings\">\n\t\t\t\t\t\t{ __( 'Youâ€™ll find more settings for your page and blocks in the sidebar. Click the cog icon to toggle the sidebar open and closed.' ) }\n\t\t\t\t\t</DotTip>\n\t\t\t\t</div>\n\t\t\t\t<PinnedPlugins.Slot />\n\t\t\t\t<MoreMenu />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => ( {\n\t\thasActiveMetaboxes: select( 'core/edit-post' ).hasMetaBoxes(),\n\t\tisEditorSidebarOpened: select( 'core/edit-post' ).isEditorSidebarOpened(),\n\t\tisPublishSidebarOpened: select( 'core/edit-post' ).isPublishSidebarOpened(),\n\t\tisSaving: select( 'core/edit-post' ).isSavingMetaBoxes(),\n\t} ) ),\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\tconst { getBlockSelectionStart } = select( 'core/block-editor' );\n\t\tconst { openGeneralSidebar, closeGeneralSidebar } = dispatch( 'core/edit-post' );\n\n\t\treturn {\n\t\t\topenGeneralSidebar: () => openGeneralSidebar( getBlockSelectionStart() ? 'edit-post/block' : 'edit-post/document' ),\n\t\t\tcloseGeneralSidebar,\n\t\t};\n\t} ),\n)( Header );\n"]}