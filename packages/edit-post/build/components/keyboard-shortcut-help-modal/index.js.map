{"version":3,"sources":["@wordpress/edit-post/src/components/keyboard-shortcut-help-modal/index.js"],"names":["MODAL_NAME","mapKeyCombination","keyCombination","map","character","index","ShortcutList","shortcuts","description","ariaLabel","ShortcutSection","title","KeyboardShortcutHelpModal","isModalActive","toggleModal","rawShortcut","access","shortcutConfig","config","select","dispatch","openModal","closeModal"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { Modal, KeyboardShortcuts } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { rawShortcut } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport shortcutConfig from './config';\n\nconst MODAL_NAME = 'edit-post/keyboard-shortcut-help';\n\nconst mapKeyCombination = ( keyCombination ) => keyCombination.map( ( character, index ) => {\n\tif ( character === '+' ) {\n\t\treturn (\n\t\t\t<Fragment key={ index }>\n\t\t\t\t{ character }\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\treturn (\n\t\t<kbd\n\t\t\tkey={ index }\n\t\t\tclassName=\"edit-post-keyboard-shortcut-help__shortcut-key\"\n\t\t>\n\t\t\t{ character }\n\t\t</kbd>\n\t);\n} );\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t<dl className=\"edit-post-keyboard-shortcut-help__shortcut-list\">\n\t\t{ shortcuts.map( ( { keyCombination, description, ariaLabel }, index ) => (\n\t\t\t<div\n\t\t\t\tclassName=\"edit-post-keyboard-shortcut-help__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t<dt className=\"edit-post-keyboard-shortcut-help__shortcut-term\">\n\t\t\t\t\t<kbd className=\"edit-post-keyboard-shortcut-help__shortcut-key-combination\" aria-label={ ariaLabel }>\n\t\t\t\t\t\t{ mapKeyCombination( castArray( keyCombination ) ) }\n\t\t\t\t\t</kbd>\n\t\t\t\t</dt>\n\t\t\t\t<dd className=\"edit-post-keyboard-shortcut-help__shortcut-description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</dd>\n\t\t\t</div>\n\t\t) ) }\n\t</dl>\n);\n\nconst ShortcutSection = ( { title, shortcuts } ) => (\n\t<section className=\"edit-post-keyboard-shortcut-help__section\">\n\t\t<h2 className=\"edit-post-keyboard-shortcut-help__section-title\">\n\t\t\t{ title }\n\t\t</h2>\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nexport function KeyboardShortcutHelpModal( { isModalActive, toggleModal } ) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<KeyboardShortcuts\n\t\t\t\tbindGlobal\n\t\t\t\tshortcuts={ {\n\t\t\t\t\t[ rawShortcut.access( 'h' ) ]: toggleModal,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t{ isModalActive && (\n\t\t\t\t<Modal\n\t\t\t\t\tclassName=\"edit-post-keyboard-shortcut-help\"\n\t\t\t\t\ttitle={ __( 'Keyboard Shortcuts' ) }\n\t\t\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\t\t\tonRequestClose={ toggleModal }\n\t\t\t\t>\n\t\t\t\t\t{ shortcutConfig.map( ( config, index ) => (\n\t\t\t\t\t\t<ShortcutSection key={ index } { ...config } />\n\t\t\t\t\t) ) }\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tisModalActive: select( 'core/edit-post' ).isModalActive( MODAL_NAME ),\n\t} ) ),\n\twithDispatch( ( dispatch, { isModalActive } ) => {\n\t\tconst {\n\t\t\topenModal,\n\t\t\tcloseModal,\n\t\t} = dispatch( 'core/edit-post' );\n\n\t\treturn {\n\t\t\ttoggleModal: () => isModalActive ? closeModal() : openModal( MODAL_NAME ),\n\t\t};\n\t} ),\n] )( KeyboardShortcutHelpModal );\n"]}