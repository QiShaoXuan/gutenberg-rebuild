{"version":3,"sources":["@wordpress/e2e-test-utils/src/install-plugin.js"],"names":["switchUserToAdmin","switchUserToTest","visitAdminPage","installPlugin","slug","searchTerm","encodeURIComponent","page","click","waitForSelector"],"mappings":";;;AAAA;;;AAGA,SAASA,iBAAT,QAAkC,wBAAlC;AACA,SAASC,gBAAT,QAAiC,uBAAjC;AACA,SAASC,cAAT,QAA+B,oBAA/B;AAEA;;;;;;;AAMA,gBAAsBC,aAAtB;AAAA;AAAA;;;;;2BAAO,iBAA8BC,IAA9B,EAAoCC,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAL,iBAAiB,EADjB;;AAAA;AAAA;AAAA,mBAEAE,cAAc,CAAE,oBAAF,EAAwB,OAAOI,kBAAkB,CAAED,UAAU,IAAID,IAAhB,CAAzB,GAAkD,uBAA1E,CAFd;;AAAA;AAAA;AAAA,mBAGAG,IAAI,CAACC,KAAL,oCAAwCJ,IAAxC,SAHA;;AAAA;AAAA;AAAA,mBAIAG,IAAI,CAACE,eAAL,qCAAmDL,IAAnD,SAJA;;AAAA;AAAA;AAAA,mBAKAH,gBAAgB,EALhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * Internal dependencies\n */\nimport { switchUserToAdmin } from './switch-user-to-admin';\nimport { switchUserToTest } from './switch-user-to-test';\nimport { visitAdminPage } from './visit-admin-page';\n\n/**\n * Installs a plugin from the WP.org repository.\n *\n * @param {string} slug        Plugin slug.\n * @param {string?} searchTerm If the plugin is not findable by its slug use an alternative term to search.\n */\nexport async function installPlugin( slug, searchTerm ) {\n\tawait switchUserToAdmin();\n\tawait visitAdminPage( 'plugin-install.php', 's=' + encodeURIComponent( searchTerm || slug ) + '&tab=search&type=term' );\n\tawait page.click( `.install-now[data-slug=\"${ slug }\"]` );\n\tawait page.waitForSelector( `.activate-now[data-slug=\"${ slug }\"]` );\n\tawait switchUserToTest();\n}\n"]}