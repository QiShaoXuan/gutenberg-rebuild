{"version":3,"sources":["@wordpress/e2e-test-utils/src/mocks/create-embedding-matcher.js"],"names":["parameterEquals","parameterName","value","request","url","match","RegExp","exec","decodeURIComponent","createEmbeddingMatcher"],"mappings":";;;;;;;AAGA;;AAHA;;;;AAKA;;;;;;;AAOA,SAASA,eAAT,CAA0BC,aAA1B,EAAyCC,KAAzC,EAAiD;AAChD,SAAO,UAAEC,OAAF,EAAe;AACrB,QAAMC,GAAG,GAAGD,OAAO,CAACC,GAAR,EAAZ;AACA,QAAMC,KAAK,GAAG,IAAIC,MAAJ,aAAkBL,aAAlB,iBAA+CM,IAA/C,CAAqDH,GAArD,CAAd;;AACA,QAAK,CAAEC,KAAP,EAAe;AACd,aAAO,KAAP;AACA;;AACD,WAAOH,KAAK,KAAKM,kBAAkB,CAAEH,KAAK,CAAE,CAAF,CAAP,CAAnC;AACA,GAPD;AAQA;AAED;;;;;;;;AAMO,SAASI,sBAAT,CAAiCL,GAAjC,EAAuC;AAC7C,SAAO,UAAED,OAAF;AAAA,WACN,wCAAkB,sBAAlB,EAA4CA,OAA5C,KACAH,eAAe,CAAE,KAAF,EAASI,GAAT,CAAf,CAA+BD,OAA/B,CAFM;AAAA,GAAP;AAGA","sourcesContent":["/**\n * Internal dependencies\n */\nimport { createURLMatcher } from './create-url-matcher';\n\n/**\n * Creates a function to determine if a request has a parameter with a certain value.\n *\n * @param {string} parameterName The query parameter to check.\n * @param {string} value The value to check for.\n * @return {function} Function that determines if a request's query parameter is the specified value.\n */\nfunction parameterEquals( parameterName, value ) {\n\treturn ( request ) => {\n\t\tconst url = request.url();\n\t\tconst match = new RegExp( `.*${ parameterName }=([^&]+).*` ).exec( url );\n\t\tif ( ! match ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn value === decodeURIComponent( match[ 1 ] );\n\t};\n}\n\n/**\n * Creates a function to determine if a request is embedding a certain URL.\n *\n * @param {string} url The URL to check against a request.\n * @return {function} Function that determines if a request is for the embed API, embedding a specific URL.\n */\nexport function createEmbeddingMatcher( url ) {\n\treturn ( request ) =>\n\t\tcreateURLMatcher( 'oembed%2F1.0%2Fproxy' )( request ) &&\n\t\tparameterEquals( 'url', url )( request );\n}\n"]}