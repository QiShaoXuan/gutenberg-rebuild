{"version":3,"sources":["@wordpress/list-reusable-blocks/src/utils/file.js"],"names":["download","fileName","content","contentType","file","window","Blob","type","navigator","msSaveOrOpenBlob","a","document","createElement","href","URL","createObjectURL","style","display","body","appendChild","click","removeChild","readTextFile","reader","FileReader","Promise","resolve","onload","result","readAsText"],"mappings":";;;;;;;;AAAA;;;;;;;AAOO,SAASA,QAAT,CAAmBC,QAAnB,EAA6BC,OAA7B,EAAsCC,WAAtC,EAAoD;AAC1D,MAAMC,IAAI,GAAG,IAAIC,MAAM,CAACC,IAAX,CAAiB,CAAEJ,OAAF,CAAjB,EAA8B;AAAEK,IAAAA,IAAI,EAAEJ;AAAR,GAA9B,CAAb,CAD0D,CAG1D;AACA;;AACA,MAAKE,MAAM,CAACG,SAAP,CAAiBC,gBAAtB,EAAyC;AACxCJ,IAAAA,MAAM,CAACG,SAAP,CAAiBC,gBAAjB,CAAmCL,IAAnC,EAAyCH,QAAzC;AACA,GAFD,MAEO;AACN,QAAMS,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAwB,GAAxB,CAAV;AACAF,IAAAA,CAAC,CAACG,IAAF,GAASC,GAAG,CAACC,eAAJ,CAAqBX,IAArB,CAAT;AACAM,IAAAA,CAAC,CAACV,QAAF,GAAaC,QAAb;AAEAS,IAAAA,CAAC,CAACM,KAAF,CAAQC,OAAR,GAAkB,MAAlB;AACAN,IAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA2BT,CAA3B;AACAA,IAAAA,CAAC,CAACU,KAAF;AACAT,IAAAA,QAAQ,CAACO,IAAT,CAAcG,WAAd,CAA2BX,CAA3B;AACA;AACD;AAED;;;;;;;;AAMO,SAASY,YAAT,CAAuBlB,IAAvB,EAA8B;AACpC,MAAMmB,MAAM,GAAG,IAAIlB,MAAM,CAACmB,UAAX,EAAf;AACA,SAAO,IAAIC,OAAJ,CAAa,UAAEC,OAAF,EAAe;AAClCH,IAAAA,MAAM,CAACI,MAAP,GAAgB,YAAW;AAC1BD,MAAAA,OAAO,CAAEH,MAAM,CAACK,MAAT,CAAP;AACA,KAFD;;AAGAL,IAAAA,MAAM,CAACM,UAAP,CAAmBzB,IAAnB;AACA,GALM,CAAP;AAMA","sourcesContent":["/**\n * Downloads a file.\n *\n * @param {string} fileName    File Name.\n * @param {string} content     File Content.\n * @param {string} contentType File mime type.\n */\nexport function download( fileName, content, contentType ) {\n\tconst file = new window.Blob( [ content ], { type: contentType } );\n\n\t// IE11 can't use the click to download technique\n\t// we use a specific IE11 technique instead.\n\tif ( window.navigator.msSaveOrOpenBlob ) {\n\t\twindow.navigator.msSaveOrOpenBlob( file, fileName );\n\t} else {\n\t\tconst a = document.createElement( 'a' );\n\t\ta.href = URL.createObjectURL( file );\n\t\ta.download = fileName;\n\n\t\ta.style.display = 'none';\n\t\tdocument.body.appendChild( a );\n\t\ta.click();\n\t\tdocument.body.removeChild( a );\n\t}\n}\n\n/**\n * Reads the textual content of the given file.\n *\n * @param  {File} file        File.\n * @return {Promise<string>}  Content of the file.\n */\nexport function readTextFile( file ) {\n\tconst reader = new window.FileReader();\n\treturn new Promise( ( resolve ) => {\n\t\treader.onload = function() {\n\t\t\tresolve( reader.result );\n\t\t};\n\t\treader.readAsText( file );\n\t} );\n}\n"]}