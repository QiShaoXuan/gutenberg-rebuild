{"version":3,"sources":["@wordpress/editor/src/components/template-validation-notice/index.js"],"names":["Notice","Button","__","withSelect","withDispatch","compose","TemplateValidationNotice","isValid","props","confirmSynchronization","window","confirm","synchronizeTemplate","resetTemplateValidity","select","isValidTemplate","dispatch","setTemplateValidity"],"mappings":";;;AAAA;;;AAGA,SAASA,MAAT,EAAiBC,MAAjB,QAA+B,uBAA/B;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AAEA,SAASC,wBAAT,OAA2D;AAAA,MAAtBC,OAAsB,QAAtBA,OAAsB;AAAA,MAAVC,KAAU;;AAC1D,MAAKD,OAAL,EAAe;AACd,WAAO,IAAP;AACA;;AAED,MAAME,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACpC;AACA,QAAKC,MAAM,CAACC,OAAP,CAAgBT,EAAE,CAAE,gFAAF,CAAlB,CAAL,EAAgH;AAC/GM,MAAAA,KAAK,CAACI,mBAAN;AACA;AACD,GALD;;AAOA,SACC,cAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,mCAAlB;AAAsD,IAAA,aAAa,EAAG,KAAtE;AAA8E,IAAA,MAAM,EAAC;AAArF,KACC,yBAAKV,EAAE,CAAE,iFAAF,CAAP,CADD,EAEC,2BACC,cAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,OAAO,EAAGM,KAAK,CAACK;AAAlC,KAA4DX,EAAE,CAAE,eAAF,CAA9D,CADD,EAEC,cAAC,MAAD;AAAQ,IAAA,OAAO,EAAGO,sBAAlB;AAA2C,IAAA,SAAS;AAApD,KAAuDP,EAAE,CAAE,oBAAF,CAAzD,CAFD,CAFD,CADD;AASA;;AAED,eAAeG,OAAO,CAAE,CACvBF,UAAU,CAAE,UAAEW,MAAF;AAAA,SAAgB;AAC3BP,IAAAA,OAAO,EAAEO,MAAM,CAAE,mBAAF,CAAN,CAA8BC,eAA9B;AADkB,GAAhB;AAAA,CAAF,CADa,EAIvBX,YAAY,CAAE,UAAEY,QAAF,EAAgB;AAAA,kBACwBA,QAAQ,CAAE,mBAAF,CADhC;AAAA,MACrBC,mBADqB,aACrBA,mBADqB;AAAA,MACAL,mBADA,aACAA,mBADA;;AAE7B,SAAO;AACNC,IAAAA,qBAAqB,EAAE;AAAA,aAAMI,mBAAmB,CAAE,IAAF,CAAzB;AAAA,KADjB;AAENL,IAAAA,mBAAmB,EAAnBA;AAFM,GAAP;AAIA,CANW,CAJW,CAAF,CAAP,CAWVN,wBAXU,CAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Notice, Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nfunction TemplateValidationNotice( { isValid, ...props } ) {\n\tif ( isValid ) {\n\t\treturn null;\n\t}\n\n\tconst confirmSynchronization = () => {\n\t\t// eslint-disable-next-line no-alert\n\t\tif ( window.confirm( __( 'Resetting the template may result in loss of content, do you want to continue?' ) ) ) {\n\t\t\tprops.synchronizeTemplate();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Notice className=\"editor-template-validation-notice\" isDismissible={ false } status=\"warning\">\n\t\t\t<p>{ __( 'The content of your post doesnâ€™t match the template assigned to your post type.' ) }</p>\n\t\t\t<div>\n\t\t\t\t<Button isDefault onClick={ props.resetTemplateValidity }>{ __( 'Keep it as is' ) }</Button>\n\t\t\t\t<Button onClick={ confirmSynchronization } isPrimary>{ __( 'Reset the template' ) }</Button>\n\t\t\t</div>\n\t\t</Notice>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tisValid: select( 'core/block-editor' ).isValidTemplate(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { setTemplateValidity, synchronizeTemplate } = dispatch( 'core/block-editor' );\n\t\treturn {\n\t\t\tresetTemplateValidity: () => setTemplateValidity( true ),\n\t\t\tsynchronizeTemplate,\n\t\t};\n\t} ),\n] )( TemplateValidationNotice );\n"]}