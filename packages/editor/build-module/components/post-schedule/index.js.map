{"version":3,"sources":["@wordpress/editor/src/components/post-schedule/index.js"],"names":["__experimentalGetSettings","withSelect","withDispatch","compose","DateTimePicker","PostSchedule","date","onUpdateDate","settings","is12HourTime","test","formats","time","toLowerCase","replace","split","reverse","join","select","getEditedPostAttribute","dispatch","editPost"],"mappings":";;AAAA;;;AAGA,SAASA,yBAAT,QAA0C,iBAA1C;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,cAAT,QAA+B,uBAA/B;AAEA,OAAO,SAASC,YAAT,OAAgD;AAAA,MAAvBC,IAAuB,QAAvBA,IAAuB;AAAA,MAAjBC,YAAiB,QAAjBA,YAAiB;;AACtD,MAAMC,QAAQ,GAAGR,yBAAyB,EAA1C,CADsD,CAEtD;AACA;;;AACA,MAAMS,YAAY,GAAG,WAAWC,IAAX,CACpBF,QAAQ,CAACG,OAAT,CAAiBC,IAAjB,CACEC,WADF,GACgB;AADhB,GAEEC,OAFF,CAEW,OAFX,EAEoB,EAFpB,EAEyB;AAFzB,GAGEC,KAHF,CAGS,EAHT,EAGcC,OAHd,GAGwBC,IAHxB,CAG8B,EAH9B,CADoB,CAIe;AAJf,GAArB;AAOA,SACC,cAAC,cAAD;AACC,IAAA,GAAG,EAAC,kBADL;AAEC,IAAA,WAAW,EAAGX,IAFf;AAGC,IAAA,QAAQ,EAAGC,YAHZ;AAIC,IAAA,QAAQ,EAAGE;AAJZ,IADD;AAQA;AAED,eAAeN,OAAO,CAAE,CACvBF,UAAU,CAAE,UAAEiB,MAAF,EAAc;AACzB,SAAO;AACNZ,IAAAA,IAAI,EAAEY,MAAM,CAAE,aAAF,CAAN,CAAwBC,sBAAxB,CAAgD,MAAhD;AADA,GAAP;AAGA,CAJS,CADa,EAMvBjB,YAAY,CAAE,UAAEkB,QAAF,EAAgB;AAC7B,SAAO;AACNb,IAAAA,YADM,wBACQD,IADR,EACe;AACpBc,MAAAA,QAAQ,CAAE,aAAF,CAAR,CAA0BC,QAA1B,CAAoC;AAAEf,QAAAA,IAAI,EAAJA;AAAF,OAApC;AACA;AAHK,GAAP;AAKA,CANW,CANW,CAAF,CAAP,CAaVD,YAbU,CAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __experimentalGetSettings } from '@wordpress/date';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { DateTimePicker } from '@wordpress/components';\n\nexport function PostSchedule( { date, onUpdateDate } ) {\n\tconst settings = __experimentalGetSettings();\n\t// To know if the current timezone is a 12 hour time with look for \"a\" in the time format\n\t// We also make sure this a is not escaped by a \"/\"\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase() // Test only the lower case a\n\t\t\t.replace( /\\\\\\\\/g, '' ) // Replace \"//\" with empty strings\n\t\t\t.split( '' ).reverse().join( '' ) // Reverse the string and test for \"a\" not followed by a slash\n\t);\n\n\treturn (\n\t\t<DateTimePicker\n\t\t\tkey=\"date-time-picker\"\n\t\t\tcurrentDate={ date }\n\t\t\tonChange={ onUpdateDate }\n\t\t\tis12Hour={ is12HourTime }\n\t\t/>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tdate: select( 'core/editor' ).getEditedPostAttribute( 'date' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\treturn {\n\t\t\tonUpdateDate( date ) {\n\t\t\t\tdispatch( 'core/editor' ).editPost( { date } );\n\t\t\t},\n\t\t};\n\t} ),\n] )( PostSchedule );\n"]}