{"version":3,"sources":["@wordpress/editor/src/components/global-keyboard-shortcuts/visual-editor-shortcuts.js"],"names":["Component","Fragment","KeyboardShortcuts","withDispatch","rawShortcut","deprecated","BlockEditorKeyboardShortcuts","SaveShortcut","VisualEditorGlobalKeyboardShortcuts","arguments","undoOrRedo","bind","event","props","onRedo","onUndo","shiftKey","preventDefault","primary","primaryShift","EnhancedVisualEditorGlobalKeyboardShortcuts","dispatch","redo","undo","EditorGlobalKeyboardShortcuts","alternative","plugin"],"mappings":";;;;;;;;;AAAA;;;AAGA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,oBAApC;AACA,SAASC,iBAAT,QAAkC,uBAAlC;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,SAASC,4BAAT,QAA6C,yBAA7C;AAEA;;;;AAGA,OAAOC,YAAP,MAAyB,iBAAzB;;IAEMC,mC;;;;;AACL,iDAAc;AAAA;;AAAA;;AACb,8GAAUC,SAAV;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AAFa;AAGb;;;;+BAEWC,K,EAAQ;AAAA,wBACQ,KAAKC,KADb;AAAA,UACXC,MADW,eACXA,MADW;AAAA,UACHC,MADG,eACHA,MADG;;AAGnB,UAAKH,KAAK,CAACI,QAAX,EAAsB;AACrBF,QAAAA,MAAM;AACN,OAFD,MAEO;AACNC,QAAAA,MAAM;AACN;;AAEDH,MAAAA,KAAK,CAACK,cAAN;AACA;;;6BAEQ;AAAA;;AACR,aACC,cAAC,QAAD,QACC,cAAC,4BAAD,OADD,EAEC,cAAC,iBAAD;AACC,QAAA,SAAS,oCACNb,WAAW,CAACc,OAAZ,CAAqB,GAArB,CADM,EACwB,KAAKR,UAD7B,yBAENN,WAAW,CAACe,YAAZ,CAA0B,GAA1B,CAFM,EAE6B,KAAKT,UAFlC;AADV,QAFD,EAQC,cAAC,YAAD,OARD,CADD;AAYA;;;;EA/BgDV,S;;AAkClD,IAAMoB,2CAA2C,GAAGjB,YAAY,CAAE,UAAEkB,QAAF,EAAgB;AAAA,kBAI7EA,QAAQ,CAAE,aAAF,CAJqE;AAAA,MAEhFC,IAFgF,aAEhFA,IAFgF;AAAA,MAGhFC,IAHgF,aAGhFA,IAHgF;;AAMjF,SAAO;AACNT,IAAAA,MAAM,EAAEQ,IADF;AAENP,IAAAA,MAAM,EAAEQ;AAFF,GAAP;AAIA,CAV+D,CAAZ,CAU/Cf,mCAV+C,CAApD;AAYA,eAAeY,2CAAf;AAEA,OAAO,SAASI,6BAAT,GAAyC;AAC/CnB,EAAAA,UAAU,CAAE,+BAAF,EAAmC;AAC5CoB,IAAAA,WAAW,EAAE,qCAD+B;AAE5CC,IAAAA,MAAM,EAAE;AAFoC,GAAnC,CAAV;AAKA,SAAO,cAAC,2CAAD,OAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport { KeyboardShortcuts } from '@wordpress/components';\nimport { withDispatch } from '@wordpress/data';\nimport { rawShortcut } from '@wordpress/keycodes';\nimport deprecated from '@wordpress/deprecated';\nimport { BlockEditorKeyboardShortcuts } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport SaveShortcut from './save-shortcut';\n\nclass VisualEditorGlobalKeyboardShortcuts extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.undoOrRedo = this.undoOrRedo.bind( this );\n\t}\n\n\tundoOrRedo( event ) {\n\t\tconst { onRedo, onUndo } = this.props;\n\n\t\tif ( event.shiftKey ) {\n\t\t\tonRedo();\n\t\t} else {\n\t\t\tonUndo();\n\t\t}\n\n\t\tevent.preventDefault();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockEditorKeyboardShortcuts />\n\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\tshortcuts={ {\n\t\t\t\t\t\t[ rawShortcut.primary( 'z' ) ]: this.undoOrRedo,\n\t\t\t\t\t\t[ rawShortcut.primaryShift( 'z' ) ]: this.undoOrRedo,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<SaveShortcut />\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst EnhancedVisualEditorGlobalKeyboardShortcuts = withDispatch( ( dispatch ) => {\n\tconst {\n\t\tredo,\n\t\tundo,\n\t} = dispatch( 'core/editor' );\n\n\treturn {\n\t\tonRedo: redo,\n\t\tonUndo: undo,\n\t};\n} )( VisualEditorGlobalKeyboardShortcuts );\n\nexport default EnhancedVisualEditorGlobalKeyboardShortcuts;\n\nexport function EditorGlobalKeyboardShortcuts() {\n\tdeprecated( 'EditorGlobalKeyboardShortcuts', {\n\t\talternative: 'VisualEditorGlobalKeyboardShortcuts',\n\t\tplugin: 'Gutenberg',\n\t} );\n\n\treturn <EnhancedVisualEditorGlobalKeyboardShortcuts />;\n}\n"]}