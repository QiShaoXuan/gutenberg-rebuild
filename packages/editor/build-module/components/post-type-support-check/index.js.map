{"version":3,"sources":["@wordpress/editor/src/components/post-type-support-check/index.js"],"names":["some","castArray","withSelect","PostTypeSupportCheck","postType","children","supportKeys","isSupported","key","supports","select","getEditedPostAttribute","getPostType"],"mappings":"AAAA;;;AAGA,SAASA,IAAT,EAAeC,SAAf,QAAgC,QAAhC;AAEA;;;;AAGA,SAASC,UAAT,QAA2B,iBAA3B;AAEA;;;;;;;;;;;;;AAYA,OAAO,SAASC,oBAAT,OAAqE;AAAA,MAApCC,QAAoC,QAApCA,QAAoC;AAAA,MAA1BC,QAA0B,QAA1BA,QAA0B;AAAA,MAAhBC,WAAgB,QAAhBA,WAAgB;AAC3E,MAAIC,WAAW,GAAG,IAAlB;;AACA,MAAKH,QAAL,EAAgB;AACfG,IAAAA,WAAW,GAAGP,IAAI,CACjBC,SAAS,CAAEK,WAAF,CADQ,EAEjB,UAAEE,GAAF;AAAA,aAAW,CAAC,CAAEJ,QAAQ,CAACK,QAAT,CAAmBD,GAAnB,CAAd;AAAA,KAFiB,CAAlB;AAIA;;AAED,MAAK,CAAED,WAAP,EAAqB;AACpB,WAAO,IAAP;AACA;;AAED,SAAOF,QAAP;AACA;AAED,eAAeH,UAAU,CAAE,UAAEQ,MAAF,EAAc;AAAA,gBACLA,MAAM,CAAE,aAAF,CADD;AAAA,MAChCC,sBADgC,WAChCA,sBADgC;;AAAA,iBAEhBD,MAAM,CAAE,MAAF,CAFU;AAAA,MAEhCE,WAFgC,YAEhCA,WAFgC;;AAGxC,SAAO;AACNR,IAAAA,QAAQ,EAAEQ,WAAW,CAAED,sBAAsB,CAAE,MAAF,CAAxB;AADf,GAAP;AAGA,CANwB,CAAV,CAMVR,oBANU,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { some, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\n/**\n * A component which renders its own children only if the current editor post\n * type supports one of the given `supportKeys` prop.\n *\n * @param {?Object}           props.postType    Current post type.\n * @param {WPElement}         props.children    Children to be rendered if post\n *                                              type supports.\n * @param {(string|string[])} props.supportKeys String or string array of keys\n *                                              to test.\n *\n * @return {WPElement} Rendered element.\n */\nexport function PostTypeSupportCheck( { postType, children, supportKeys } ) {\n\tlet isSupported = true;\n\tif ( postType ) {\n\t\tisSupported = some(\n\t\t\tcastArray( supportKeys ),\n\t\t\t( key ) => !! postType.supports[ key ]\n\t\t);\n\t}\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getEditedPostAttribute } = select( 'core/editor' );\n\tconst { getPostType } = select( 'core' );\n\treturn {\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t};\n} )( PostTypeSupportCheck );\n"]}