{"version":3,"sources":["@wordpress/editor/src/components/theme-support-check/index.js"],"names":["castArray","includes","isArray","get","some","withSelect","ThemeSupportCheck","themeSupports","children","postType","supportKeys","isSupported","key","supported","select","getThemeSupports","getEditedPostAttribute"],"mappings":"AAAA;;;AAGA,SACCA,SADD,EAECC,QAFD,EAGCC,OAHD,EAICC,GAJD,EAKCC,IALD,QAMO,QANP;AAQA;;;;AAGA,SAASC,UAAT,QAA2B,iBAA3B;AAEA,OAAO,SAASC,iBAAT,OAAiF;AAAA,MAAnDC,aAAmD,QAAnDA,aAAmD;AAAA,MAApCC,QAAoC,QAApCA,QAAoC;AAAA,MAA1BC,QAA0B,QAA1BA,QAA0B;AAAA,MAAhBC,WAAgB,QAAhBA,WAAgB;AACvF,MAAMC,WAAW,GAAGP,IAAI,CACvBJ,SAAS,CAAEU,WAAF,CADc,EACG,UAAEE,GAAF,EAAW;AACpC,QAAMC,SAAS,GAAGV,GAAG,CAAEI,aAAF,EAAiB,CAAEK,GAAF,CAAjB,EAA0B,KAA1B,CAArB,CADoC,CAEpC;AACA;AACA;AACA;;AACA,QAAK,sBAAsBA,GAAtB,IAA6BV,OAAO,CAAEW,SAAF,CAAzC,EAAyD;AACxD,aAAOZ,QAAQ,CAAEY,SAAF,EAAaJ,QAAb,CAAf;AACA;;AACD,WAAOI,SAAP;AACA,GAXsB,CAAxB;;AAcA,MAAK,CAAEF,WAAP,EAAqB;AACpB,WAAO,IAAP;AACA;;AAED,SAAOH,QAAP;AACA;AAED,eAAeH,UAAU,CAAE,UAAES,MAAF,EAAc;AAAA,gBACXA,MAAM,CAAE,MAAF,CADK;AAAA,MAChCC,gBADgC,WAChCA,gBADgC;;AAAA,iBAELD,MAAM,CAAE,aAAF,CAFD;AAAA,MAEhCE,sBAFgC,YAEhCA,sBAFgC;;AAGxC,SAAO;AACNP,IAAAA,QAAQ,EAAEO,sBAAsB,CAAE,MAAF,CAD1B;AAENT,IAAAA,aAAa,EAAEQ,gBAAgB;AAFzB,GAAP;AAIA,CAPwB,CAAV,CAOVT,iBAPU,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tcastArray,\n\tincludes,\n\tisArray,\n\tget,\n\tsome,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\nexport function ThemeSupportCheck( { themeSupports, children, postType, supportKeys } ) {\n\tconst isSupported = some(\n\t\tcastArray( supportKeys ), ( key ) => {\n\t\t\tconst supported = get( themeSupports, [ key ], false );\n\t\t\t// 'post-thumbnails' can be boolean or an array of post types.\n\t\t\t// In the latter case, we need to verify `postType` exists\n\t\t\t// within `supported`. If `postType` isn't passed, then the check\n\t\t\t// should fail.\n\t\t\tif ( 'post-thumbnails' === key && isArray( supported ) ) {\n\t\t\t\treturn includes( supported, postType );\n\t\t\t}\n\t\t\treturn supported;\n\t\t}\n\t);\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getThemeSupports } = select( 'core' );\n\tconst { getEditedPostAttribute } = select( 'core/editor' );\n\treturn {\n\t\tpostType: getEditedPostAttribute( 'type' ),\n\t\tthemeSupports: getThemeSupports(),\n\t};\n} )( ThemeSupportCheck );\n"]}