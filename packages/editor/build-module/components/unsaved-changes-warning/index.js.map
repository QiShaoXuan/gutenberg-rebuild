{"version":3,"sources":["@wordpress/editor/src/components/unsaved-changes-warning/index.js"],"names":["__","Component","withSelect","UnsavedChangesWarning","arguments","warnIfUnsavedChanges","bind","window","addEventListener","removeEventListener","event","isDirty","props","returnValue","select","isEditedPostDirty"],"mappings":";;;;;;;AAAA;;;AAGA,SAASA,EAAT,QAAmB,iBAAnB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,UAAT,QAA2B,iBAA3B;;IAEMC,qB;;;;;AACL,mCAAc;AAAA;;AAAA;;AACb,gGAAUC,SAAV;AACA,UAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,uDAA5B;AAFa;AAGb;;;;wCAEmB;AACnBC,MAAAA,MAAM,CAACC,gBAAP,CAAyB,cAAzB,EAAyC,KAAKH,oBAA9C;AACA;;;2CAEsB;AACtBE,MAAAA,MAAM,CAACE,mBAAP,CAA4B,cAA5B,EAA4C,KAAKJ,oBAAjD;AACA;AAED;;;;;;;;;;yCAOsBK,K,EAAQ;AAAA,UACrBC,OADqB,GACT,KAAKC,KADI,CACrBD,OADqB;;AAG7B,UAAKA,OAAL,EAAe;AACdD,QAAAA,KAAK,CAACG,WAAN,GAAoBb,EAAE,CAAE,8DAAF,CAAtB;AACA,eAAOU,KAAK,CAACG,WAAb;AACA;AACD;;;6BAEQ;AACR,aAAO,IAAP;AACA;;;;EAhCkCZ,S;;AAmCpC,eAAeC,UAAU,CAAE,UAAEY,MAAF;AAAA,SAAgB;AAC1CH,IAAAA,OAAO,EAAEG,MAAM,CAAE,aAAF,CAAN,CAAwBC,iBAAxB;AADiC,GAAhB;AAAA,CAAF,CAAV,CAERZ,qBAFQ,CAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\n\nclass UnsavedChangesWarning extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.warnIfUnsavedChanges = this.warnIfUnsavedChanges.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener( 'beforeunload', this.warnIfUnsavedChanges );\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener( 'beforeunload', this.warnIfUnsavedChanges );\n\t}\n\n\t/**\n\t * Warns the user if there are unsaved changes before leaving the editor.\n\t *\n\t * @param {Event} event `beforeunload` event.\n\t *\n\t * @return {?string} Warning prompt message, if unsaved changes exist.\n\t */\n\twarnIfUnsavedChanges( event ) {\n\t\tconst { isDirty } = this.props;\n\n\t\tif ( isDirty ) {\n\t\t\tevent.returnValue = __( 'You have unsaved changes. If you proceed, they will be lost.' );\n\t\t\treturn event.returnValue;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nexport default withSelect( ( select ) => ( {\n\tisDirty: select( 'core/editor' ).isEditedPostDirty(),\n} ) )( UnsavedChangesWarning );\n"]}