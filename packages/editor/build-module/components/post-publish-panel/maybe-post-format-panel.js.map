{"version":3,"sources":["@wordpress/editor/src/components/post-publish-panel/maybe-post-format-panel.js"],"names":["find","get","includes","__","sprintf","ifCondition","compose","withDispatch","withSelect","Button","PanelBody","POST_FORMATS","PostFormatSuggestion","suggestedPostFormat","suggestionText","onUpdatePostFormat","PostFormatPanel","suggestion","panelBodyTitle","id","caption","getSuggestion","supportedFormats","formats","filter","format","select","getEditedPostAttribute","getSuggestedPostFormat","getThemeSupports","currentPostFormat","dispatch","postFormat","editPost"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { find, get, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { ifCondition, compose } from '@wordpress/compose';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { Button, PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { POST_FORMATS } from '../post-format';\n\nconst PostFormatSuggestion = ( { suggestedPostFormat, suggestionText, onUpdatePostFormat } ) => (\n\t<Button isLink onClick={ () => onUpdatePostFormat( suggestedPostFormat ) }>\n\t\t{ suggestionText }\n\t</Button>\n);\n\nconst PostFormatPanel = ( { suggestion, onUpdatePostFormat } ) => {\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t(\n\t\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t\t{ __( 'Use a post format' ) }\n\t\t\t</span>\n\t\t),\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle } >\n\t\t\t<p>\n\t\t\t\t{ __( 'Your theme uses post formats to highlight different kinds of content, like images or videos. Apply a post format to see this special styling.' ) }\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<PostFormatSuggestion\n\t\t\t\t\tonUpdatePostFormat={ onUpdatePostFormat }\n\t\t\t\t\tsuggestedPostFormat={ suggestion.id }\n\t\t\t\t\tsuggestionText={ sprintf(\n\t\t\t\t\t\t__( 'Apply the \"%1$s\" format.' ),\n\t\t\t\t\t\tsuggestion.caption\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</p>\n\t\t</PanelBody>\n\t);\n};\n\nconst getSuggestion = ( supportedFormats, suggestedPostFormat ) => {\n\tconst formats = POST_FORMATS.filter( ( format ) => includes( supportedFormats, format.id ) );\n\treturn find( formats, ( format ) => format.id === suggestedPostFormat );\n};\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } = select( 'core/editor' );\n\t\tconst supportedFormats = get( select( 'core' ).getThemeSupports(), [ 'formats' ], [] );\n\t\treturn {\n\t\t\tcurrentPostFormat: getEditedPostAttribute( 'format' ),\n\t\t\tsuggestion: getSuggestion( supportedFormats, getSuggestedPostFormat() ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdatePostFormat( postFormat ) {\n\t\t\tdispatch( 'core/editor' ).editPost( { format: postFormat } );\n\t\t},\n\t} ) ),\n\tifCondition( ( { suggestion, currentPostFormat } ) => suggestion && suggestion.id !== currentPostFormat ),\n)( PostFormatPanel );\n"]}