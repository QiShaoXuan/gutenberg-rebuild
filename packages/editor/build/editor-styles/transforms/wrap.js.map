{"version":3,"sources":["@wordpress/editor/src/editor-styles/transforms/wrap.js"],"names":["IS_ROOT_TAG","wrap","namespace","ignore","node","updateSelector","selector","trim","match","replace","type","selectors","map"],"mappings":";;;;;;;;;;;AAGA;;AAHA;;;;AAKA;;;AAGA,IAAMA,WAAW,GAAG,uBAApB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAEC,SAAF;AAAA,MAAaC,MAAb,uEAAsB,EAAtB;AAAA,SAA8B,UAAEC,IAAF,EAAY;AACtD,QAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAEC,QAAF,EAAgB;AACtC,UAAK,sBAAUH,MAAV,EAAkBG,QAAQ,CAACC,IAAT,EAAlB,CAAL,EAA2C;AAC1C,eAAOD,QAAP;AACA,OAHqC,CAKtC;;;AACA;AAAC,YAAK,CAAEA,QAAQ,CAACE,KAAT,CAAgBR,WAAhB,CAAP,EAAuC;AACvC,iBAAOE,SAAS,GAAG,GAAZ,GAAkBI,QAAzB;AACA;AAAC,OARoC,CAUtC;;AACA,aAAOA,QAAQ,CAACG,OAAT,CAAkB,oBAAlB,EAAwCP,SAAxC,CAAP;AACA,KAZD;;AAcA,QAAKE,IAAI,CAACM,IAAL,KAAc,MAAnB,EAA4B;AAC3B,6CACIN,IADJ;AAECO,QAAAA,SAAS,EAAEP,IAAI,CAACO,SAAL,CAAeC,GAAf,CAAoBP,cAApB;AAFZ;AAIA;;AAED,WAAOD,IAAP;AACA,GAvBY;AAAA,CAAb;;eAyBeH,I","sourcesContent":["/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * @const string IS_ROOT_TAG Regex to check if the selector is a root tag selector.\n */\nconst IS_ROOT_TAG = /^(body|html|:root).*$/;\n\nconst wrap = ( namespace, ignore = [] ) => ( node ) => {\n\tconst updateSelector = ( selector ) => {\n\t\tif ( includes( ignore, selector.trim() ) ) {\n\t\t\treturn selector;\n\t\t}\n\n\t\t// Anything other than a root tag is always prefixed.\n\t\t{if ( ! selector.match( IS_ROOT_TAG ) ) {\n\t\t\treturn namespace + ' ' + selector;\n\t\t}}\n\n\t\t// HTML and Body elements cannot be contained within our container so lets extract their styles.\n\t\treturn selector.replace( /^(body|html|:root)/, namespace );\n\t};\n\n\tif ( node.type === 'rule' ) {\n\t\treturn {\n\t\t\t...node,\n\t\t\tselectors: node.selectors.map( updateSelector ),\n\t\t};\n\t}\n\n\treturn node;\n};\n\nexport default wrap;\n"]}