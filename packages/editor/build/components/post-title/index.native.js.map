{"version":3,"sources":["@wordpress/editor/src/components/post-title/index.native.js"],"names":["PostTitle","arguments","onSelect","bind","onUnselect","titleViewRef","state","isSelected","props","innerRef","focus","setState","clearSelectedBlock","placeholder","style","title","focusedBorderColor","borderStyle","decodedPlaceholder","borderColor","styles","titleContainer","onBlur","value","onUpdate","onEnterPress","ref","Component","applyWithDispatch","dispatch","undo","redo","insertDefaultBlock","undefined","onUndo","onRedo","withInstanceId","withFocusOutside"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { withDispatch } from '@wordpress/data';\nimport { withFocusOutside } from '@wordpress/components';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nclass PostTitle extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onSelect = this.onSelect.bind( this );\n\t\tthis.onUnselect = this.onUnselect.bind( this );\n\t\tthis.titleViewRef = null;\n\n\t\tthis.state = {\n\t\t\tisSelected: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.props.innerRef ) {\n\t\t\tthis.props.innerRef( this );\n\t\t}\n\t}\n\n\thandleFocusOutside() {\n\t\tthis.onUnselect();\n\t}\n\n\tfocus() {\n\t\tif ( this.titleViewRef ) {\n\t\t\tthis.titleViewRef.focus();\n\t\t\tthis.setState( { isSelected: true } );\n\t\t}\n\t}\n\n\tonSelect() {\n\t\tthis.setState( { isSelected: true } );\n\t\tthis.props.clearSelectedBlock();\n\t}\n\n\tonUnselect() {\n\t\tthis.setState( { isSelected: false } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tplaceholder,\n\t\t\tstyle,\n\t\t\ttitle,\n\t\t\tfocusedBorderColor,\n\t\t\tborderStyle,\n\t\t} = this.props;\n\n\t\tconst decodedPlaceholder = decodeEntities( placeholder );\n\t\tconst borderColor = this.state.isSelected ? focusedBorderColor : 'transparent';\n\n\t\treturn (\n\t\t\t<View style={ [ styles.titleContainer, borderStyle, { borderColor } ] }>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName={ 'p' }\n\t\t\t\t\trootTagsToEliminate={ [ 'strong' ] }\n\t\t\t\t\tonFocus={ this.onSelect }\n\t\t\t\t\tonBlur={ this.props.onBlur } // always assign onBlur as a props\n\t\t\t\t\tmultiline={ false }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t\tfontSize={ 24 }\n\t\t\t\t\tfontWeight={ 'bold' }\n\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\tthis.props.onUpdate( value );\n\t\t\t\t\t} }\n\t\t\t\t\tplaceholder={ decodedPlaceholder }\n\t\t\t\t\tvalue={ title }\n\t\t\t\t\tonSplit={ this.props.onEnterPress }\n\t\t\t\t\tdisableEditingMenu={ true }\n\t\t\t\t\tsetRef={ ( ref ) => {\n\t\t\t\t\t\tthis.titleViewRef = ref;\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t</RichText>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nconst applyWithDispatch = withDispatch( ( dispatch ) => {\n\tconst {\n\t\tundo,\n\t\tredo,\n\t} = dispatch( 'core/editor' );\n\n\tconst {\n\t\tinsertDefaultBlock,\n\t\tclearSelectedBlock,\n\t} = dispatch( 'core/block-editor' );\n\n\treturn {\n\t\tonEnterPress() {\n\t\t\tinsertDefaultBlock( undefined, undefined, 0 );\n\t\t},\n\t\tonUndo: undo,\n\t\tonRedo: redo,\n\t\tclearSelectedBlock,\n\t};\n} );\n\nexport default compose(\n\tapplyWithDispatch,\n\twithInstanceId,\n\twithFocusOutside\n)( PostTitle );\n"]}