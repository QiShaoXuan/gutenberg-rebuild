{"version":3,"sources":["@wordpress/editor/src/components/global-keyboard-shortcuts/visual-editor-shortcuts.js"],"names":["VisualEditorGlobalKeyboardShortcuts","arguments","undoOrRedo","bind","event","props","onRedo","onUndo","shiftKey","preventDefault","rawShortcut","primary","primaryShift","Component","EnhancedVisualEditorGlobalKeyboardShortcuts","dispatch","redo","undo","EditorGlobalKeyboardShortcuts","alternative","plugin"],"mappings":";;;;;;;;;;AAGA;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AAKA;;AAbA;;;;AAUA;;;IAKMA,mC;;;;;AACL,iDAAc;AAAA;;AAAA;AACb,0IAAUC,SAAV;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,mFAAlB;AAFa;AAGb;;;;+BAEWC,K,EAAQ;AAAA,wBACQ,KAAKC,KADb;AAAA,UACXC,MADW,eACXA,MADW;AAAA,UACHC,MADG,eACHA,MADG;;AAGnB,UAAKH,KAAK,CAACI,QAAX,EAAsB;AACrBF,QAAAA,MAAM;AACN,OAFD,MAEO;AACNC,QAAAA,MAAM;AACN;;AAEDH,MAAAA,KAAK,CAACK,cAAN;AACA;;;6BAEQ;AAAA;;AACR,aACC,4BAAC,iBAAD,QACC,4BAAC,yCAAD,OADD,EAEC,4BAAC,6BAAD;AACC,QAAA,SAAS,kDACNC,sBAAYC,OAAZ,CAAqB,GAArB,CADM,EACwB,KAAKT,UAD7B,uCAENQ,sBAAYE,YAAZ,CAA0B,GAA1B,CAFM,EAE6B,KAAKV,UAFlC;AADV,QAFD,EAQC,4BAAC,qBAAD,OARD,CADD;AAYA;;;EA/BgDW,kB;;AAkClD,IAAMC,2CAA2C,GAAG,wBAAc,UAAEC,QAAF,EAAgB;AAAA,kBAI7EA,QAAQ,CAAE,aAAF,CAJqE;AAAA,MAEhFC,IAFgF,aAEhFA,IAFgF;AAAA,MAGhFC,IAHgF,aAGhFA,IAHgF;;AAMjF,SAAO;AACNX,IAAAA,MAAM,EAAEU,IADF;AAENT,IAAAA,MAAM,EAAEU;AAFF,GAAP;AAIA,CAVmD,EAU/CjB,mCAV+C,CAApD;eAYec,2C;;;AAER,SAASI,6BAAT,GAAyC;AAC/C,2BAAY,+BAAZ,EAA6C;AAC5CC,IAAAA,WAAW,EAAE,qCAD+B;AAE5CC,IAAAA,MAAM,EAAE;AAFoC,GAA7C;AAKA,SAAO,4BAAC,2CAAD,OAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport { KeyboardShortcuts } from '@wordpress/components';\nimport { withDispatch } from '@wordpress/data';\nimport { rawShortcut } from '@wordpress/keycodes';\nimport deprecated from '@wordpress/deprecated';\nimport { BlockEditorKeyboardShortcuts } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport SaveShortcut from './save-shortcut';\n\nclass VisualEditorGlobalKeyboardShortcuts extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.undoOrRedo = this.undoOrRedo.bind( this );\n\t}\n\n\tundoOrRedo( event ) {\n\t\tconst { onRedo, onUndo } = this.props;\n\n\t\tif ( event.shiftKey ) {\n\t\t\tonRedo();\n\t\t} else {\n\t\t\tonUndo();\n\t\t}\n\n\t\tevent.preventDefault();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockEditorKeyboardShortcuts />\n\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\tshortcuts={ {\n\t\t\t\t\t\t[ rawShortcut.primary( 'z' ) ]: this.undoOrRedo,\n\t\t\t\t\t\t[ rawShortcut.primaryShift( 'z' ) ]: this.undoOrRedo,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<SaveShortcut />\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst EnhancedVisualEditorGlobalKeyboardShortcuts = withDispatch( ( dispatch ) => {\n\tconst {\n\t\tredo,\n\t\tundo,\n\t} = dispatch( 'core/editor' );\n\n\treturn {\n\t\tonRedo: redo,\n\t\tonUndo: undo,\n\t};\n} )( VisualEditorGlobalKeyboardShortcuts );\n\nexport default EnhancedVisualEditorGlobalKeyboardShortcuts;\n\nexport function EditorGlobalKeyboardShortcuts() {\n\tdeprecated( 'EditorGlobalKeyboardShortcuts', {\n\t\talternative: 'VisualEditorGlobalKeyboardShortcuts',\n\t\tplugin: 'Gutenberg',\n\t} );\n\n\treturn <EnhancedVisualEditorGlobalKeyboardShortcuts />;\n}\n"]}