{"version":3,"sources":["@wordpress/editor/src/components/mobile/bottom-sheet/cell.native.js"],"names":["Cell","props","arguments","state","isEditingValue","autoFocus","_valueTextInput","focus","onPress","label","value","valuePlaceholder","icon","labelStyle","valueStyle","onChangeValue","children","editable","separatorType","style","valueProps","showValue","undefined","isValueEditable","defaultLabelStyle","styles","cellLabel","cellLabelCentered","drawSeparator","separatorStyle","onCellPress","startEditing","finishEditing","setState","leftMarginStyle","cellSeparator","platformStyles","separatorMarginLeft","separator","getValueComponent","styleRTL","I18nManager","isRTL","cellValueRTL","finalStyle","cellValue","shouldShowPlaceholder","c","clipToBounds","cellContainer","cellRowContainer","labelIconSeparator","Component"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableOpacity, Text, View, TextInput, I18nManager } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { Dashicon } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\nimport platformStyles from './cellStyles.scss';\n\nexport default class Cell extends Component {\n\tconstructor( props ) {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tisEditingValue: props.autoFocus || false,\n\t\t};\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif ( this.state.isEditingValue ) {\n\t\t\tthis._valueTextInput.focus();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tonPress,\n\t\t\tlabel,\n\t\t\tvalue,\n\t\t\tvaluePlaceholder = '',\n\t\t\ticon,\n\t\t\tlabelStyle = {},\n\t\t\tvalueStyle = {},\n\t\t\tonChangeValue,\n\t\t\tchildren,\n\t\t\teditable = true,\n\t\t\tseparatorType,\n\t\t\tstyle = {},\n\t\t\t...valueProps\n\t\t} = this.props;\n\n\t\tconst showValue = value !== undefined;\n\t\tconst isValueEditable = editable && onChangeValue !== undefined;\n\t\tconst defaultLabelStyle = showValue || icon !== undefined ? styles.cellLabel : styles.cellLabelCentered;\n\t\tconst drawSeparator = ( separatorType && separatorType !== 'none' ) || separatorStyle === undefined;\n\n\t\tconst onCellPress = () => {\n\t\t\tif ( isValueEditable ) {\n\t\t\t\tstartEditing();\n\t\t\t} else if ( onPress !== undefined ) {\n\t\t\t\tonPress();\n\t\t\t}\n\t\t};\n\n\t\tconst finishEditing = () => {\n\t\t\tthis.setState( { isEditingValue: false } );\n\t\t};\n\n\t\tconst startEditing = () => {\n\t\t\tif ( this.state.isEditingValue === false ) {\n\t\t\t\tthis.setState( { isEditingValue: true } );\n\t\t\t}\n\t\t};\n\n\t\tconst separatorStyle = () => {\n\t\t\tconst leftMarginStyle = { ...styles.cellSeparator, ...platformStyles.separatorMarginLeft };\n\t\t\tswitch ( separatorType ) {\n\t\t\t\tcase 'leftMargin':\n\t\t\t\t\treturn leftMarginStyle;\n\t\t\t\tcase 'fullWidth':\n\t\t\t\t\treturn styles.separator;\n\t\t\t\tcase 'none':\n\t\t\t\t\treturn undefined;\n\t\t\t\tcase undefined:\n\t\t\t\t\treturn showValue ? leftMarginStyle : styles.separator;\n\t\t\t}\n\t\t};\n\n\t\tconst getValueComponent = () => {\n\t\t\tconst styleRTL = I18nManager.isRTL && styles.cellValueRTL;\n\t\t\tconst finalStyle = { ...styles.cellValue, ...valueStyle, ...styleRTL };\n\n\t\t\t// To be able to show the `middle` ellipsizeMode on editable cells\n\t\t\t// we show the TextInput just when the user wants to edit the value,\n\t\t\t// and the Text component to display it.\n\t\t\t// We also show the TextInput to display placeholder.\n\t\t\tconst shouldShowPlaceholder = isValueEditable && value === '';\n\t\t\treturn this.state.isEditingValue || shouldShowPlaceholder ? (\n\t\t\t\t<TextInput\n\t\t\t\t\tref={ ( c ) => this._valueTextInput = c }\n\t\t\t\t\tnumberOfLines={ 1 }\n\t\t\t\t\tstyle={ finalStyle }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tplaceholder={ valuePlaceholder }\n\t\t\t\t\tplaceholderTextColor={ '#87a6bc' }\n\t\t\t\t\tonChangeText={ onChangeValue }\n\t\t\t\t\teditable={ isValueEditable }\n\t\t\t\t\tpointerEvents={ this.state.isEditingValue ? 'auto' : 'none' }\n\t\t\t\t\tonFocus={ startEditing }\n\t\t\t\t\tonBlur={ finishEditing }\n\t\t\t\t\t{ ...valueProps }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Text\n\t\t\t\t\tstyle={ { ...styles.cellValue, ...valueStyle } }\n\t\t\t\t\tnumberOfLines={ 1 }\n\t\t\t\t\tellipsizeMode={ 'middle' }\n\t\t\t\t>\n\t\t\t\t\t{ value }\n\t\t\t\t</Text>\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<TouchableOpacity onPress={ onCellPress } style={ { ...styles.clipToBounds, ...style } } >\n\t\t\t\t<View style={ styles.cellContainer }>\n\t\t\t\t\t<View style={ styles.cellRowContainer }>\n\t\t\t\t\t\t{ icon && (\n\t\t\t\t\t\t\t<View style={ styles.cellRowContainer }>\n\t\t\t\t\t\t\t\t<Dashicon icon={ icon } size={ 24 } />\n\t\t\t\t\t\t\t\t<View style={ platformStyles.labelIconSeparator } />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Text numberOfLines={ 1 } style={ { ...defaultLabelStyle, ...labelStyle } }>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t{ showValue && getValueComponent() }\n\t\t\t\t\t{ children }\n\t\t\t\t</View>\n\t\t\t\t{ drawSeparator && (\n\t\t\t\t\t<View style={ separatorStyle() } />\n\t\t\t\t) }\n\t\t\t</TouchableOpacity>\n\t\t);\n\t}\n}\n"]}