{"version":3,"sources":["@wordpress/editor/src/components/template-validation-notice/index.js"],"names":["TemplateValidationNotice","isValid","props","confirmSynchronization","window","confirm","synchronizeTemplate","resetTemplateValidity","select","isValidTemplate","dispatch","setTemplateValidity"],"mappings":";;;;;;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AANA;;;AAQA,SAASA,wBAAT,OAA2D;AAAA,MAAtBC,OAAsB,QAAtBA,OAAsB;AAAA,MAAVC,KAAU;;AAC1D,MAAKD,OAAL,EAAe;AACd,WAAO,IAAP;AACA;;AAED,MAAME,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACpC;AACA,QAAKC,MAAM,CAACC,OAAP,CAAgB,cAAI,gFAAJ,CAAhB,CAAL,EAAgH;AAC/GH,MAAAA,KAAK,CAACI,mBAAN;AACA;AACD,GALD;;AAOA,SACC,4BAAC,kBAAD;AAAQ,IAAA,SAAS,EAAC,mCAAlB;AAAsD,IAAA,aAAa,EAAG,KAAtE;AAA8E,IAAA,MAAM,EAAC;AAArF,KACC,uCAAK,cAAI,iFAAJ,CAAL,CADD,EAEC,yCACC,4BAAC,kBAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,OAAO,EAAGJ,KAAK,CAACK;AAAlC,KAA4D,cAAI,eAAJ,CAA5D,CADD,EAEC,4BAAC,kBAAD;AAAQ,IAAA,OAAO,EAAGJ,sBAAlB;AAA2C,IAAA,SAAS;AAApD,KAAuD,cAAI,oBAAJ,CAAvD,CAFD,CAFD,CADD;AASA;;eAEc,sBAAS,CACvB,sBAAY,UAAEK,MAAF;AAAA,SAAgB;AAC3BP,IAAAA,OAAO,EAAEO,MAAM,CAAE,mBAAF,CAAN,CAA8BC,eAA9B;AADkB,GAAhB;AAAA,CAAZ,CADuB,EAIvB,wBAAc,UAAEC,QAAF,EAAgB;AAAA,kBACwBA,QAAQ,CAAE,mBAAF,CADhC;AAAA,MACrBC,mBADqB,aACrBA,mBADqB;AAAA,MACAL,mBADA,aACAA,mBADA;;AAE7B,SAAO;AACNC,IAAAA,qBAAqB,EAAE;AAAA,aAAMI,mBAAmB,CAAE,IAAF,CAAzB;AAAA,KADjB;AAENL,IAAAA,mBAAmB,EAAnBA;AAFM,GAAP;AAIA,CAND,CAJuB,CAAT,EAWVN,wBAXU,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Notice, Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nfunction TemplateValidationNotice( { isValid, ...props } ) {\n\tif ( isValid ) {\n\t\treturn null;\n\t}\n\n\tconst confirmSynchronization = () => {\n\t\t// eslint-disable-next-line no-alert\n\t\tif ( window.confirm( __( 'Resetting the template may result in loss of content, do you want to continue?' ) ) ) {\n\t\t\tprops.synchronizeTemplate();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Notice className=\"editor-template-validation-notice\" isDismissible={ false } status=\"warning\">\n\t\t\t<p>{ __( 'The content of your post doesnâ€™t match the template assigned to your post type.' ) }</p>\n\t\t\t<div>\n\t\t\t\t<Button isDefault onClick={ props.resetTemplateValidity }>{ __( 'Keep it as is' ) }</Button>\n\t\t\t\t<Button onClick={ confirmSynchronization } isPrimary>{ __( 'Reset the template' ) }</Button>\n\t\t\t</div>\n\t\t</Notice>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tisValid: select( 'core/block-editor' ).isValidTemplate(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { setTemplateValidity, synchronizeTemplate } = dispatch( 'core/block-editor' );\n\t\treturn {\n\t\t\tresetTemplateValidity: () => setTemplateValidity( true ),\n\t\t\tsynchronizeTemplate,\n\t\t};\n\t} ),\n] )( TemplateValidationNotice );\n"]}