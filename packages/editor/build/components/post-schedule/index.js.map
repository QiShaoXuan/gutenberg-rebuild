{"version":3,"sources":["@wordpress/editor/src/components/post-schedule/index.js"],"names":["PostSchedule","date","onUpdateDate","settings","is12HourTime","test","formats","time","toLowerCase","replace","split","reverse","join","select","getEditedPostAttribute","dispatch","editPost"],"mappings":";;;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AANA;;;AAQO,SAASA,YAAT,OAAgD;AAAA,MAAvBC,IAAuB,QAAvBA,IAAuB;AAAA,MAAjBC,YAAiB,QAAjBA,YAAiB;AACtD,MAAMC,QAAQ,GAAG,sCAAjB,CADsD,CAEtD;AACA;;AACA,MAAMC,YAAY,GAAG,WAAWC,IAAX,CACpBF,QAAQ,CAACG,OAAT,CAAiBC,IAAjB,CACEC,WADF,GACgB;AADhB,GAEEC,OAFF,CAEW,OAFX,EAEoB,EAFpB,EAEyB;AAFzB,GAGEC,KAHF,CAGS,EAHT,EAGcC,OAHd,GAGwBC,IAHxB,CAG8B,EAH9B,CADoB,CAIe;AAJf,GAArB;AAOA,SACC,4BAAC,0BAAD;AACC,IAAA,GAAG,EAAC,kBADL;AAEC,IAAA,WAAW,EAAGX,IAFf;AAGC,IAAA,QAAQ,EAAGC,YAHZ;AAIC,IAAA,QAAQ,EAAGE;AAJZ,IADD;AAQA;;eAEc,sBAAS,CACvB,sBAAY,UAAES,MAAF,EAAc;AACzB,SAAO;AACNZ,IAAAA,IAAI,EAAEY,MAAM,CAAE,aAAF,CAAN,CAAwBC,sBAAxB,CAAgD,MAAhD;AADA,GAAP;AAGA,CAJD,CADuB,EAMvB,wBAAc,UAAEC,QAAF,EAAgB;AAC7B,SAAO;AACNb,IAAAA,YADM,wBACQD,IADR,EACe;AACpBc,MAAAA,QAAQ,CAAE,aAAF,CAAR,CAA0BC,QAA1B,CAAoC;AAAEf,QAAAA,IAAI,EAAJA;AAAF,OAApC;AACA;AAHK,GAAP;AAKA,CAND,CANuB,CAAT,EAaVD,YAbU,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __experimentalGetSettings } from '@wordpress/date';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { DateTimePicker } from '@wordpress/components';\n\nexport function PostSchedule( { date, onUpdateDate } ) {\n\tconst settings = __experimentalGetSettings();\n\t// To know if the current timezone is a 12 hour time with look for \"a\" in the time format\n\t// We also make sure this a is not escaped by a \"/\"\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase() // Test only the lower case a\n\t\t\t.replace( /\\\\\\\\/g, '' ) // Replace \"//\" with empty strings\n\t\t\t.split( '' ).reverse().join( '' ) // Reverse the string and test for \"a\" not followed by a slash\n\t);\n\n\treturn (\n\t\t<DateTimePicker\n\t\t\tkey=\"date-time-picker\"\n\t\t\tcurrentDate={ date }\n\t\t\tonChange={ onUpdateDate }\n\t\t\tis12Hour={ is12HourTime }\n\t\t/>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tdate: select( 'core/editor' ).getEditedPostAttribute( 'date' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\treturn {\n\t\t\tonUpdateDate( date ) {\n\t\t\t\tdispatch( 'core/editor' ).editPost( { date } );\n\t\t\t},\n\t\t};\n\t} ),\n] )( PostSchedule );\n"]}