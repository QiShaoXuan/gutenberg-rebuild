{"version":3,"sources":["@wordpress/editor/src/components/unsaved-changes-warning/index.js"],"names":["UnsavedChangesWarning","arguments","warnIfUnsavedChanges","bind","window","addEventListener","removeEventListener","event","isDirty","props","returnValue","Component","select","isEditedPostDirty"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAGA;;AACA;;AACA;;AALA;;;IAOMA,qB;;;;;AACL,mCAAc;AAAA;;AAAA;AACb,4HAAUC,SAAV;AACA,UAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,mFAA5B;AAFa;AAGb;;;;wCAEmB;AACnBC,MAAAA,MAAM,CAACC,gBAAP,CAAyB,cAAzB,EAAyC,KAAKH,oBAA9C;AACA;;;2CAEsB;AACtBE,MAAAA,MAAM,CAACE,mBAAP,CAA4B,cAA5B,EAA4C,KAAKJ,oBAAjD;AACA;AAED;;;;;;;;;;yCAOsBK,K,EAAQ;AAAA,UACrBC,OADqB,GACT,KAAKC,KADI,CACrBD,OADqB;;AAG7B,UAAKA,OAAL,EAAe;AACdD,QAAAA,KAAK,CAACG,WAAN,GAAoB,cAAI,8DAAJ,CAApB;AACA,eAAOH,KAAK,CAACG,WAAb;AACA;AACD;;;6BAEQ;AACR,aAAO,IAAP;AACA;;;EAhCkCC,kB;;eAmCrB,sBAAY,UAAEC,MAAF;AAAA,SAAgB;AAC1CJ,IAAAA,OAAO,EAAEI,MAAM,CAAE,aAAF,CAAN,CAAwBC,iBAAxB;AADiC,GAAhB;AAAA,CAAZ,EAERb,qBAFQ,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\n\nclass UnsavedChangesWarning extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.warnIfUnsavedChanges = this.warnIfUnsavedChanges.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener( 'beforeunload', this.warnIfUnsavedChanges );\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener( 'beforeunload', this.warnIfUnsavedChanges );\n\t}\n\n\t/**\n\t * Warns the user if there are unsaved changes before leaving the editor.\n\t *\n\t * @param {Event} event `beforeunload` event.\n\t *\n\t * @return {?string} Warning prompt message, if unsaved changes exist.\n\t */\n\twarnIfUnsavedChanges( event ) {\n\t\tconst { isDirty } = this.props;\n\n\t\tif ( isDirty ) {\n\t\t\tevent.returnValue = __( 'You have unsaved changes. If you proceed, they will be lost.' );\n\t\t\treturn event.returnValue;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nexport default withSelect( ( select ) => ( {\n\tisDirty: select( 'core/editor' ).isEditedPostDirty(),\n} ) )( UnsavedChangesWarning );\n"]}