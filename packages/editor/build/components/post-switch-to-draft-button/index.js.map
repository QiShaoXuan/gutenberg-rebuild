{"version":3,"sources":["@wordpress/editor/src/components/post-switch-to-draft-button/index.js"],"names":["PostSwitchToDraftButton","isSaving","isPublished","isScheduled","onClick","onSwitch","alertMessage","window","confirm","select","isSavingPost","isCurrentPostPublished","isCurrentPostScheduled","dispatch","editPost","savePost","status"],"mappings":";;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AANA;;;AAQA,SAASA,uBAAT,OAAoF;AAAA,MAAhDC,QAAgD,QAAhDA,QAAgD;AAAA,MAAtCC,WAAsC,QAAtCA,WAAsC;AAAA,MAAzBC,WAAyB,QAAzBA,WAAyB;AAAA,MAAZC,OAAY,QAAZA,OAAY;;AACnF,MAAK,CAAEF,WAAF,IAAiB,CAAEC,WAAxB,EAAsC;AACrC,WAAO,IAAP;AACA;;AAED,MAAME,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACtB,QAAIC,YAAJ;;AACA,QAAKJ,WAAL,EAAmB;AAClBI,MAAAA,YAAY,GAAG,cAAI,+CAAJ,CAAf;AACA,KAFD,MAEO,IAAKH,WAAL,EAAmB;AACzBG,MAAAA,YAAY,GAAG,cAAI,gDAAJ,CAAf;AACA,KANqB,CAOtB;;;AACA,QAAKC,MAAM,CAACC,OAAP,CAAgBF,YAAhB,CAAL,EAAsC;AACrCF,MAAAA,OAAO;AACP;AACD,GAXD;;AAaA,SACC,4BAAC,kBAAD;AACC,IAAA,SAAS,EAAC,6BADX;AAEC,IAAA,OAAO,EAAGC,QAFX;AAGC,IAAA,QAAQ,EAAGJ,QAHZ;AAIC,IAAA,UAAU;AAJX,KAMG,cAAI,iBAAJ,CANH,CADD;AAUA;;eAEc,sBAAS,CACvB,sBAAY,UAAEQ,MAAF,EAAc;AAAA,gBACgDA,MAAM,CAAE,aAAF,CADtD;AAAA,MACjBC,YADiB,WACjBA,YADiB;AAAA,MACHC,sBADG,WACHA,sBADG;AAAA,MACqBC,sBADrB,WACqBA,sBADrB;;AAEzB,SAAO;AACNX,IAAAA,QAAQ,EAAES,YAAY,EADhB;AAENR,IAAAA,WAAW,EAAES,sBAAsB,EAF7B;AAGNR,IAAAA,WAAW,EAAES,sBAAsB;AAH7B,GAAP;AAKA,CAPD,CADuB,EASvB,wBAAc,UAAEC,QAAF,EAAgB;AAAA,kBACEA,QAAQ,CAAE,aAAF,CADV;AAAA,MACrBC,QADqB,aACrBA,QADqB;AAAA,MACXC,QADW,aACXA,QADW;;AAE7B,SAAO;AACNX,IAAAA,OAAO,EAAE,mBAAM;AACdU,MAAAA,QAAQ,CAAE;AAAEE,QAAAA,MAAM,EAAE;AAAV,OAAF,CAAR;AACAD,MAAAA,QAAQ;AACR;AAJK,GAAP;AAMA,CARD,CATuB,CAAT,EAkBVf,uBAlBU,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nfunction PostSwitchToDraftButton( { isSaving, isPublished, isScheduled, onClick } ) {\n\tif ( ! isPublished && ! isScheduled ) {\n\t\treturn null;\n\t}\n\n\tconst onSwitch = () => {\n\t\tlet alertMessage;\n\t\tif ( isPublished ) {\n\t\t\talertMessage = __( 'Are you sure you want to unpublish this post?' );\n\t\t} else if ( isScheduled ) {\n\t\t\talertMessage = __( 'Are you sure you want to unschedule this post?' );\n\t\t}\n\t\t// eslint-disable-next-line no-alert\n\t\tif ( window.confirm( alertMessage ) ) {\n\t\t\tonClick();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"editor-post-switch-to-draft\"\n\t\t\tonClick={ onSwitch }\n\t\t\tdisabled={ isSaving }\n\t\t\tisTertiary\n\t\t>\n\t\t\t{ __( 'Switch to Draft' ) }\n\t\t</Button>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { isSavingPost, isCurrentPostPublished, isCurrentPostScheduled } = select( 'core/editor' );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost, savePost } = dispatch( 'core/editor' );\n\t\treturn {\n\t\t\tonClick: () => {\n\t\t\t\teditPost( { status: 'draft' } );\n\t\t\t\tsavePost();\n\t\t\t},\n\t\t};\n\t} ),\n] )( PostSwitchToDraftButton );\n\n"]}