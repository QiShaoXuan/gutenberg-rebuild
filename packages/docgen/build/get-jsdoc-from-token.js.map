{"version":3,"sources":["@wordpress/docgen/src/get-jsdoc-from-token.js"],"names":["doctrine","require","getLeadingComments","getTypeAsString","module","exports","token","jsdoc","comments","startsWith","parse","unwrap","recoverable","sloppy","tags","map","tag","type"],"mappings":";;AAAA;;;AAGA,IAAMA,QAAQ,GAAGC,OAAO,CAAE,UAAF,CAAxB;AAEA;;;;;AAGA,IAAMC,kBAAkB,GAAGD,OAAO,CAAE,wBAAF,CAAlC;;AACA,IAAME,eAAe,GAAGF,OAAO,CAAE,sBAAF,CAA/B;AAEA;;;;;;;;;;AAQAG,MAAM,CAACC,OAAP,GAAiB,UAAUC,KAAV,EAAkB;AAClC,MAAIC,KAAJ;AACA,MAAMC,QAAQ,GAAGN,kBAAkB,CAAEI,KAAF,CAAnC;;AACA,MAAKE,QAAQ,IAAIA,QAAQ,CAACC,UAAT,CAAqB,KAArB,CAAjB,EAAgD;AAC/CF,IAAAA,KAAK,GAAGP,QAAQ,CAACU,KAAT,CAAgBF,QAAhB,EAA0B;AACjCG,MAAAA,MAAM,EAAE,IADyB;AAEjCC,MAAAA,WAAW,EAAE,IAFoB;AAGjCC,MAAAA,MAAM,EAAE;AAHyB,KAA1B,CAAR;AAKAN,IAAAA,KAAK,CAACO,IAAN,GAAaP,KAAK,CAACO,IAAN,CAAWC,GAAX,CAAgB,UAAEC,GAAF,EAAW;AACvC,UAAKA,GAAG,CAACC,IAAT,EAAgB;AACfD,QAAAA,GAAG,CAACC,IAAJ,GAAWd,eAAe,CAAEa,GAAG,CAACC,IAAN,CAA1B;AACA;;AACD,aAAOD,GAAP;AACA,KALY,CAAb;AAMA;;AACD,SAAOT,KAAP;AACA,CAjBD","sourcesContent":["/**\n * External dependencies.\n */\nconst doctrine = require( 'doctrine' );\n\n/**\n * Internal dependencies.\n */\nconst getLeadingComments = require( './get-leading-comments' );\nconst getTypeAsString = require( './get-type-as-string' );\n\n/**\n * Function that takes an Espree token and returns\n * a object representing the leading JSDoc comment of the token,\n * if any.\n *\n * @param {Object} token Espree token.\n * @return {Object} Object representing the JSDoc comment.\n */\nmodule.exports = function( token ) {\n\tlet jsdoc;\n\tconst comments = getLeadingComments( token );\n\tif ( comments && comments.startsWith( '*\\n' ) ) {\n\t\tjsdoc = doctrine.parse( comments, {\n\t\t\tunwrap: true,\n\t\t\trecoverable: true,\n\t\t\tsloppy: true,\n\t\t} );\n\t\tjsdoc.tags = jsdoc.tags.map( ( tag ) => {\n\t\t\tif ( tag.type ) {\n\t\t\t\ttag.type = getTypeAsString( tag.type );\n\t\t\t}\n\t\t\treturn tag;\n\t\t} );\n\t}\n\treturn jsdoc;\n};\n"]}